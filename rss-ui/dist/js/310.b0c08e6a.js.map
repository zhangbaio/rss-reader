{"version":3,"file":"js/310.b0c08e6a.js","mappings":"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","sources":["webpack://rss-reader/./src/api/article.ts","webpack://rss-reader/./src/api/highlight.ts","webpack://rss-reader/./src/stores/highlight.ts","webpack://rss-reader/./src/api/note.ts","webpack://rss-reader/./src/stores/note.ts","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/components/ReadingSettings/ReadingSettings.vue?9f3a","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/components/ReadingSettings/ReadingSettings.vue","webpack://rss-reader/./src/components/ReadingSettings/ReadingSettings.vue","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/components/Highlight/HighlightToolbar.vue?d20f","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/components/Highlight/HighlightToolbar.vue","webpack://rss-reader/./src/components/Highlight/HighlightToolbar.vue","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/views/Reader.vue?fdf4","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/views/Reader.vue","webpack://rss-reader/./src/views/Reader.vue","webpack://rss-reader/./src/stores/article.ts"],"sourcesContent":["import request from './index'\nimport type { Article, ArticleQueryParams, PageResult } from '@/types'\n\n// 获取文章列表\nexport function getArticles(params: ArticleQueryParams): Promise<PageResult<Article>> {\n  return request.get('/articles', { params })\n}\n\n// 获取文章详情\nexport function getArticle(id: number): Promise<Article> {\n  return request.get(`/articles/${id}`)\n}\n\n// 标记文章为已读\nexport function markAsRead(id: number): Promise<void> {\n  return request.put(`/articles/${id}/read`, null, { params: { isRead: 1 } })\n}\n\n// 标记文章为未读\nexport function markAsUnread(id: number): Promise<void> {\n  return request.put(`/articles/${id}/read`, null, { params: { isRead: 0 } })\n}\n\n// 批量标记为已读\nexport function batchMarkAsRead(ids: number[]): Promise<void> {\n  return request.post('/articles/batch-read', ids, { params: { isRead: 1 } })\n}\n\n// 切换收藏状态\nexport function toggleFavorite(id: number): Promise<void> {\n  return request.put(`/articles/${id}/favorite`)\n}\n\n// 获取未读数量\nexport function getUnreadCount(feedId?: number): Promise<number> {\n  return request.get('/articles/unread-count', { params: { feedId } })\n}\n\n// 获取文章原文内容\nexport function getFullContent(id: number): Promise<string> {\n  return request.get(`/articles/${id}/fullcontent`)\n}\n\n// 清除原文缓存\nexport function clearFullContentCache(id: number): Promise<void> {\n  return request.delete(`/articles/${id}/fullcontent/cache`)\n}\n","import request from './index'\nimport type { Highlight, CreateHighlightParams, UpdateHighlightParams, Tag } from '@/types'\n\n// 获取文章的所有划线\nexport function getHighlightsByArticle(articleId: number): Promise<Highlight[]> {\n  return request.get(`/highlights/article/${articleId}`)\n}\n\n// 创建划线\nexport function createHighlight(params: CreateHighlightParams): Promise<Highlight> {\n  return request.post('/highlights', params)\n}\n\n// 更新划线\nexport function updateHighlight(id: number, params: UpdateHighlightParams): Promise<Highlight> {\n  return request.put(`/highlights/${id}`, params)\n}\n\n// 删除划线\nexport function deleteHighlight(id: number): Promise<void> {\n  return request.delete(`/highlights/${id}`)\n}\n\n// 获取所有标签\nexport function getAllTags(): Promise<Tag[]> {\n  return request.get('/highlights/tags')\n}\n\n// 创建标签\nexport function createTag(name: string, color?: string): Promise<Tag> {\n  return request.post('/highlights/tags', null, { params: { name, color } })\n}\n\n// 删除标签\nexport function deleteTag(id: number): Promise<void> {\n  return request.delete(`/highlights/tags/${id}`)\n}\n","import { defineStore } from 'pinia'\nimport { ref } from 'vue'\nimport type { Highlight, Tag, CreateHighlightParams, UpdateHighlightParams } from '@/types'\nimport * as highlightApi from '@/api/highlight'\n\nexport const useHighlightStore = defineStore('highlight', () => {\n  const highlights = ref<Highlight[]>([])\n  const tags = ref<Tag[]>([])\n  const loading = ref(false)\n  const currentArticleId = ref<number | null>(null)\n\n  async function fetchHighlights(articleId: number) {\n    if (currentArticleId.value === articleId && highlights.value.length > 0) {\n      return\n    }\n\n    loading.value = true\n    currentArticleId.value = articleId\n    try {\n      highlights.value = await highlightApi.getHighlightsByArticle(articleId)\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function createHighlight(params: CreateHighlightParams) {\n    const highlight = await highlightApi.createHighlight(params)\n    highlights.value.push(highlight)\n    return highlight\n  }\n\n  async function updateHighlight(id: number, params: UpdateHighlightParams) {\n    const highlight = await highlightApi.updateHighlight(id, params)\n    const index = highlights.value.findIndex(h => h.id === id)\n    if (index !== -1) {\n      highlights.value[index] = highlight\n    }\n    return highlight\n  }\n\n  async function deleteHighlight(id: number) {\n    await highlightApi.deleteHighlight(id)\n    highlights.value = highlights.value.filter(h => h.id !== id)\n  }\n\n  async function fetchTags() {\n    tags.value = await highlightApi.getAllTags()\n  }\n\n  async function createTag(name: string, color?: string) {\n    const tag = await highlightApi.createTag(name, color)\n    if (!tags.value.find(t => t.id === tag.id)) {\n      tags.value.push(tag)\n    }\n    return tag\n  }\n\n  function clearHighlights() {\n    highlights.value = []\n    currentArticleId.value = null\n  }\n\n  return {\n    highlights,\n    tags,\n    loading,\n    currentArticleId,\n    fetchHighlights,\n    createHighlight,\n    updateHighlight,\n    deleteHighlight,\n    fetchTags,\n    createTag,\n    clearHighlights\n  }\n})\n","import request from './index'\nimport type { ArticleNote } from '@/types'\n\n// 获取文章笔记\nexport function getNoteByArticle(articleId: number): Promise<ArticleNote | null> {\n  return request.get(`/notes/article/${articleId}`)\n}\n\n// 保存文章笔记\nexport function saveNote(articleId: number, noteContent: string): Promise<ArticleNote> {\n  return request.post('/notes', { articleId, noteContent })\n}\n\n// 删除文章笔记\nexport function deleteNote(articleId: number): Promise<void> {\n  return request.delete(`/notes/article/${articleId}`)\n}\n","import { defineStore } from 'pinia'\nimport { ref } from 'vue'\nimport type { ArticleNote } from '@/types'\nimport * as noteApi from '@/api/note'\n\nexport const useNoteStore = defineStore('note', () => {\n  const note = ref<ArticleNote | null>(null)\n  const loading = ref(false)\n  const saving = ref(false)\n  const currentArticleId = ref<number | null>(null)\n\n  async function fetchNote(articleId: number) {\n    if (currentArticleId.value === articleId && note.value) {\n      return\n    }\n\n    loading.value = true\n    currentArticleId.value = articleId\n    try {\n      note.value = await noteApi.getNoteByArticle(articleId)\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function saveNote(articleId: number, content: string) {\n    saving.value = true\n    try {\n      note.value = await noteApi.saveNote(articleId, content)\n    } finally {\n      saving.value = false\n    }\n  }\n\n  async function deleteNote(articleId: number) {\n    await noteApi.deleteNote(articleId)\n    note.value = null\n  }\n\n  function clearNote() {\n    note.value = null\n    currentArticleId.value = null\n  }\n\n  return {\n    note,\n    loading,\n    saving,\n    currentArticleId,\n    fetchNote,\n    saveNote,\n    deleteNote,\n    clearNote\n  }\n})\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"reading-settings\" }\nconst _hoisted_2 = { class: \"setting-item\" }\nconst _hoisted_3 = { class: \"setting-label\" }\nconst _hoisted_4 = { class: \"setting-value\" }\nconst _hoisted_5 = { class: \"setting-item\" }\nconst _hoisted_6 = { class: \"setting-label\" }\nconst _hoisted_7 = { class: \"setting-value\" }\nconst _hoisted_8 = { class: \"setting-item\" }\nconst _hoisted_9 = { class: \"setting-label\" }\nconst _hoisted_10 = { class: \"setting-value\" }\nconst _hoisted_11 = { class: \"setting-item\" }\nconst _hoisted_12 = { class: \"setting-item\" }\nconst _hoisted_13 = { class: \"setting-actions\" }\n\nimport { useSettingsStore } from '@/stores/settings'\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ReadingSettings',\n  setup(__props) {\n\nconst settingsStore = useSettingsStore()\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Setting = _resolveComponent(\"Setting\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_slider = _resolveComponent(\"el-slider\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_radio_button = _resolveComponent(\"el-radio-button\")!\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\")!\n  const _component_el_popover = _resolveComponent(\"el-popover\")!\n\n  return (_openBlock(), _createBlock(_component_el_popover, {\n    placement: \"bottom-end\",\n    width: 320,\n    trigger: \"click\"\n  }, {\n    reference: _withCtx(() => [\n      _createVNode(_component_el_button, {\n        text: \"\",\n        circle: \"\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_icon, { size: 18 }, {\n            default: _withCtx(() => [\n              _createVNode(_component_Setting)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _cache[14] || (_cache[14] = _createElementVNode(\"h4\", { class: \"settings-title\" }, \"阅读设置\", -1)),\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"字体大小\", -1)),\n            _createElementVNode(\"span\", _hoisted_4, _toDisplayString(_unref(settingsStore).reading.fontSize) + \"px\", 1)\n          ]),\n          _createVNode(_component_el_slider, {\n            modelValue: _unref(settingsStore).reading.fontSize,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(settingsStore).reading.fontSize) = $event)),\n            min: 14,\n            max: 24,\n            step: 1,\n            \"show-tooltip\": false\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _cache[6] || (_cache[6] = _createElementVNode(\"span\", null, \"行高\", -1)),\n            _createElementVNode(\"span\", _hoisted_7, _toDisplayString(_unref(settingsStore).reading.lineHeight.toFixed(1)), 1)\n          ]),\n          _createVNode(_component_el_slider, {\n            modelValue: _unref(settingsStore).reading.lineHeight,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_unref(settingsStore).reading.lineHeight) = $event)),\n            min: 1.4,\n            max: 2.4,\n            step: 0.1,\n            \"show-tooltip\": false\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"div\", _hoisted_9, [\n            _cache[7] || (_cache[7] = _createElementVNode(\"span\", null, \"内容宽度\", -1)),\n            _createElementVNode(\"span\", _hoisted_10, _toDisplayString(_unref(settingsStore).reading.contentWidth) + \"px\", 1)\n          ]),\n          _createVNode(_component_el_slider, {\n            modelValue: _unref(settingsStore).reading.contentWidth,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_unref(settingsStore).reading.contentWidth) = $event)),\n            min: 600,\n            max: 1000,\n            step: 50,\n            \"show-tooltip\": false\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_11, [\n          _cache[8] || (_cache[8] = _createElementVNode(\"div\", { class: \"setting-label\" }, [\n            _createElementVNode(\"span\", null, \"字体\")\n          ], -1)),\n          _createVNode(_component_el_select, {\n            modelValue: _unref(settingsStore).reading.fontFamily,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_unref(settingsStore).reading.fontFamily) = $event)),\n            style: {\"width\":\"100%\"},\n            size: \"small\"\n          }, {\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(settingsStore).fontOptions, (font) => {\n                return (_openBlock(), _createBlock(_component_el_option, {\n                  key: font.value,\n                  label: font.label,\n                  value: font.value\n                }, null, 8, [\"label\", \"value\"]))\n              }), 128))\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_12, [\n          _cache[12] || (_cache[12] = _createElementVNode(\"div\", { class: \"setting-label\" }, [\n            _createElementVNode(\"span\", null, \"主题\")\n          ], -1)),\n          _createVNode(_component_el_radio_group, {\n            modelValue: _unref(settingsStore).app.theme,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_unref(settingsStore).app.theme) = $event)),\n            size: \"small\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_radio_button, { label: \"light\" }, {\n                default: _withCtx(() => [...(_cache[9] || (_cache[9] = [\n                  _createTextVNode(\"浅色\", -1)\n                ]))]),\n                _: 1\n              }),\n              _createVNode(_component_el_radio_button, { label: \"dark\" }, {\n                default: _withCtx(() => [...(_cache[10] || (_cache[10] = [\n                  _createTextVNode(\"深色\", -1)\n                ]))]),\n                _: 1\n              }),\n              _createVNode(_component_el_radio_button, { label: \"system\" }, {\n                default: _withCtx(() => [...(_cache[11] || (_cache[11] = [\n                  _createTextVNode(\"跟随系统\", -1)\n                ]))]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_13, [\n          _createVNode(_component_el_button, {\n            size: \"small\",\n            onClick: _unref(settingsStore).resetReadingSettings\n          }, {\n            default: _withCtx(() => [...(_cache[13] || (_cache[13] = [\n              _createTextVNode(\" 恢复默认 \", -1)\n            ]))]),\n            _: 1\n          }, 8, [\"onClick\"])\n        ])\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\n  <el-popover\n    placement=\"bottom-end\"\n    :width=\"320\"\n    trigger=\"click\"\n  >\n    <template #reference>\n      <el-button text circle>\n        <el-icon :size=\"18\"><Setting /></el-icon>\n      </el-button>\n    </template>\n\n    <div class=\"reading-settings\">\n      <h4 class=\"settings-title\">阅读设置</h4>\n\n      <!-- 字体大小 -->\n      <div class=\"setting-item\">\n        <div class=\"setting-label\">\n          <span>字体大小</span>\n          <span class=\"setting-value\">{{ settingsStore.reading.fontSize }}px</span>\n        </div>\n        <el-slider\n          v-model=\"settingsStore.reading.fontSize\"\n          :min=\"14\"\n          :max=\"24\"\n          :step=\"1\"\n          :show-tooltip=\"false\"\n        />\n      </div>\n\n      <!-- 行高 -->\n      <div class=\"setting-item\">\n        <div class=\"setting-label\">\n          <span>行高</span>\n          <span class=\"setting-value\">{{ settingsStore.reading.lineHeight.toFixed(1) }}</span>\n        </div>\n        <el-slider\n          v-model=\"settingsStore.reading.lineHeight\"\n          :min=\"1.4\"\n          :max=\"2.4\"\n          :step=\"0.1\"\n          :show-tooltip=\"false\"\n        />\n      </div>\n\n      <!-- 内容宽度 -->\n      <div class=\"setting-item\">\n        <div class=\"setting-label\">\n          <span>内容宽度</span>\n          <span class=\"setting-value\">{{ settingsStore.reading.contentWidth }}px</span>\n        </div>\n        <el-slider\n          v-model=\"settingsStore.reading.contentWidth\"\n          :min=\"600\"\n          :max=\"1000\"\n          :step=\"50\"\n          :show-tooltip=\"false\"\n        />\n      </div>\n\n      <!-- 字体 -->\n      <div class=\"setting-item\">\n        <div class=\"setting-label\">\n          <span>字体</span>\n        </div>\n        <el-select\n          v-model=\"settingsStore.reading.fontFamily\"\n          style=\"width: 100%\"\n          size=\"small\"\n        >\n          <el-option\n            v-for=\"font in settingsStore.fontOptions\"\n            :key=\"font.value\"\n            :label=\"font.label\"\n            :value=\"font.value\"\n          />\n        </el-select>\n      </div>\n\n      <!-- 主题 -->\n      <div class=\"setting-item\">\n        <div class=\"setting-label\">\n          <span>主题</span>\n        </div>\n        <el-radio-group v-model=\"settingsStore.app.theme\" size=\"small\">\n          <el-radio-button label=\"light\">浅色</el-radio-button>\n          <el-radio-button label=\"dark\">深色</el-radio-button>\n          <el-radio-button label=\"system\">跟随系统</el-radio-button>\n        </el-radio-group>\n      </div>\n\n      <!-- 重置按钮 -->\n      <div class=\"setting-actions\">\n        <el-button size=\"small\" @click=\"settingsStore.resetReadingSettings\">\n          恢复默认\n        </el-button>\n      </div>\n    </div>\n  </el-popover>\n</template>\n\n<script setup lang=\"ts\">\nimport { useSettingsStore } from '@/stores/settings'\n\nconst settingsStore = useSettingsStore()\n</script>\n\n<style lang=\"scss\" scoped>\n.reading-settings {\n  padding: 8px;\n}\n\n.settings-title {\n  font-size: 14px;\n  font-weight: 600;\n  margin-bottom: 16px;\n  color: var(--text-primary);\n}\n\n.setting-item {\n  margin-bottom: 16px;\n}\n\n.setting-label {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  font-size: 13px;\n  color: var(--text-secondary);\n}\n\n.setting-value {\n  font-family: monospace;\n  color: var(--text-muted);\n}\n\n.setting-actions {\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 8px;\n  border-top: 1px solid var(--border-color);\n}\n</style>\n","import script from \"./ReadingSettings.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ReadingSettings.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ReadingSettings.vue?vue&type=style&index=0&id=a6016420&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a6016420\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, withKeys as _withKeys, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, Teleport as _Teleport } from \"vue\"\n\nconst _hoisted_1 = { class: \"color-picker\" }\nconst _hoisted_2 = [\"onClick\", \"title\"]\nconst _hoisted_3 = {\n  class: \"action-btn\",\n  title: \"添加标签\"\n}\nconst _hoisted_4 = { class: \"tag-selector\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"tag-list\"\n}\nconst _hoisted_6 = {\n  class: \"action-btn\",\n  title: \"添加备注\"\n}\nconst _hoisted_7 = { class: \"note-editor\" }\nconst _hoisted_8 = { class: \"note-actions\" }\n\nimport { ref, computed, watch } from 'vue'\nimport { PriceTag, Plus, EditPen, Check, Close } from '@element-plus/icons-vue'\nimport type { Tag } from '@/types'\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'HighlightToolbar',\n  props: {\n    visible: { type: Boolean },\n    position: {},\n    selectedText: {},\n    allTags: {}\n  },\n  emits: [\"save\", \"cancel\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst colors = [\n  { value: 'yellow', bg: '#fef08a', label: '黄色' },\n  { value: 'green', bg: '#bbf7d0', label: '绿色' },\n  { value: 'blue', bg: '#bfdbfe', label: '蓝色' },\n  { value: 'pink', bg: '#fbcfe8', label: '粉色' },\n  { value: 'purple', bg: '#ddd6fe', label: '紫色' }\n]\n\nconst selectedColor = ref('yellow')\nconst selectedTags = ref<string[]>([])\nconst noteContent = ref('')\nconst newTagName = ref('')\nconst showTagPopover = ref(false)\nconst showNotePopover = ref(false)\n\nconst toolbarStyle = computed(() => ({\n  left: `${props.position.x}px`,\n  top: `${props.position.y}px`\n}))\n\n// 重置状态\nwatch(() => props.visible, (val) => {\n  if (val) {\n    selectedColor.value = 'yellow'\n    selectedTags.value = []\n    noteContent.value = ''\n    newTagName.value = ''\n    showTagPopover.value = false\n    showNotePopover.value = false\n  }\n})\n\nfunction selectColor(color: string) {\n  selectedColor.value = color\n}\n\nfunction toggleTag(tagName: string) {\n  const index = selectedTags.value.indexOf(tagName)\n  if (index > -1) {\n    selectedTags.value.splice(index, 1)\n  } else {\n    selectedTags.value.push(tagName)\n  }\n}\n\nfunction addTag() {\n  if (newTagName.value.trim()) {\n    if (!selectedTags.value.includes(newTagName.value.trim())) {\n      selectedTags.value.push(newTagName.value.trim())\n    }\n    newTagName.value = ''\n  }\n}\n\nfunction saveHighlight() {\n  emit('save', {\n    color: selectedColor.value,\n    note: noteContent.value,\n    tags: selectedTags.value\n  })\n}\n\nfunction saveWithNote() {\n  showNotePopover.value = false\n  saveHighlight()\n}\n\nfunction cancel() {\n  emit('cancel')\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_popover = _resolveComponent(\"el-popover\")!\n\n  return (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n    (__props.visible)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"highlight-toolbar\",\n          style: _normalizeStyle(toolbarStyle.value),\n          onMousedown: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"stop\"]))\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(colors, (color) => {\n              return _createElementVNode(\"button\", {\n                key: color.value,\n                class: _normalizeClass([\"color-btn\", { active: selectedColor.value === color.value }]),\n                style: _normalizeStyle({ backgroundColor: color.bg }),\n                onClick: ($event: any) => (selectColor(color.value)),\n                title: color.label\n              }, null, 14, _hoisted_2)\n            }), 64))\n          ]),\n          _cache[9] || (_cache[9] = _createElementVNode(\"div\", { class: \"divider\" }, null, -1)),\n          _createVNode(_component_el_popover, {\n            placement: \"bottom\",\n            width: 200,\n            trigger: \"click\",\n            visible: showTagPopover.value,\n            \"onUpdate:visible\": _cache[1] || (_cache[1] = ($event: any) => ((showTagPopover).value = $event))\n          }, {\n            reference: _withCtx(() => [\n              _createElementVNode(\"button\", _hoisted_3, [\n                _createVNode(_component_el_icon, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(PriceTag))\n                  ]),\n                  _: 1\n                }),\n                _cache[6] || (_cache[6] = _createElementVNode(\"span\", null, \"Add tags\", -1))\n              ])\n            ]),\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_4, [\n                _createVNode(_component_el_input, {\n                  modelValue: newTagName.value,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((newTagName).value = $event)),\n                  size: \"small\",\n                  placeholder: \"输入标签名称\",\n                  onKeyup: _withKeys(addTag, [\"enter\"])\n                }, {\n                  append: _withCtx(() => [\n                    _createVNode(_component_el_button, { onClick: addTag }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_el_icon, null, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(Plus))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"]),\n                (__props.allTags.length > 0)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.allTags, (tag) => {\n                        return (_openBlock(), _createBlock(_component_el_tag, {\n                          key: tag.id,\n                          type: selectedTags.value.includes(tag.name) ? '' : 'info',\n                          class: \"tag-item\",\n                          onClick: ($event: any) => (toggleTag(tag.name))\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(tag.name), 1)\n                          ]),\n                          _: 2\n                        }, 1032, [\"type\", \"onClick\"]))\n                      }), 128))\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]),\n            _: 1\n          }, 8, [\"visible\"]),\n          _createVNode(_component_el_popover, {\n            placement: \"bottom\",\n            width: 280,\n            trigger: \"click\",\n            visible: showNotePopover.value,\n            \"onUpdate:visible\": _cache[4] || (_cache[4] = ($event: any) => ((showNotePopover).value = $event))\n          }, {\n            reference: _withCtx(() => [\n              _createElementVNode(\"button\", _hoisted_6, [\n                _createVNode(_component_el_icon, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(EditPen))\n                  ]),\n                  _: 1\n                })\n              ])\n            ]),\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_7, [\n                _createVNode(_component_el_input, {\n                  modelValue: noteContent.value,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((noteContent).value = $event)),\n                  type: \"textarea\",\n                  rows: 3,\n                  placeholder: \"添加备注...\"\n                }, null, 8, [\"modelValue\"]),\n                _createElementVNode(\"div\", _hoisted_8, [\n                  _createVNode(_component_el_button, {\n                    size: \"small\",\n                    onClick: _cache[3] || (_cache[3] = ($event: any) => (showNotePopover.value = false))\n                  }, {\n                    default: _withCtx(() => [...(_cache[7] || (_cache[7] = [\n                      _createTextVNode(\"取消\", -1)\n                    ]))]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_button, {\n                    size: \"small\",\n                    type: \"primary\",\n                    onClick: saveWithNote\n                  }, {\n                    default: _withCtx(() => [...(_cache[8] || (_cache[8] = [\n                      _createTextVNode(\"保存\", -1)\n                    ]))]),\n                    _: 1\n                  })\n                ])\n              ])\n            ]),\n            _: 1\n          }, 8, [\"visible\"]),\n          _cache[10] || (_cache[10] = _createElementVNode(\"div\", { class: \"divider\" }, null, -1)),\n          _createElementVNode(\"button\", {\n            class: \"action-btn save-btn\",\n            onClick: saveHighlight,\n            title: \"保存划线\"\n          }, [\n            _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [\n                _createVNode(_unref(Check))\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"button\", {\n            class: \"action-btn cancel-btn\",\n            onClick: cancel,\n            title: \"取消\"\n          }, [\n            _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [\n                _createVNode(_unref(Close))\n              ]),\n              _: 1\n            })\n          ])\n        ], 36))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <Teleport to=\"body\">\n    <div\n      v-if=\"visible\"\n      class=\"highlight-toolbar\"\n      :style=\"toolbarStyle\"\n      @mousedown.stop\n    >\n      <!-- 颜色选择 -->\n      <div class=\"color-picker\">\n        <button\n          v-for=\"color in colors\"\n          :key=\"color.value\"\n          class=\"color-btn\"\n          :class=\"{ active: selectedColor === color.value }\"\n          :style=\"{ backgroundColor: color.bg }\"\n          @click=\"selectColor(color.value)\"\n          :title=\"color.label\"\n        ></button>\n      </div>\n\n      <div class=\"divider\"></div>\n\n      <!-- 添加标签 -->\n      <el-popover\n        placement=\"bottom\"\n        :width=\"200\"\n        trigger=\"click\"\n        v-model:visible=\"showTagPopover\"\n      >\n        <template #reference>\n          <button class=\"action-btn\" title=\"添加标签\">\n            <el-icon><PriceTag /></el-icon>\n            <span>Add tags</span>\n          </button>\n        </template>\n        <div class=\"tag-selector\">\n          <el-input\n            v-model=\"newTagName\"\n            size=\"small\"\n            placeholder=\"输入标签名称\"\n            @keyup.enter=\"addTag\"\n          >\n            <template #append>\n              <el-button @click=\"addTag\">\n                <el-icon><Plus /></el-icon>\n              </el-button>\n            </template>\n          </el-input>\n          <div class=\"tag-list\" v-if=\"allTags.length > 0\">\n            <el-tag\n              v-for=\"tag in allTags\"\n              :key=\"tag.id\"\n              :type=\"selectedTags.includes(tag.name) ? '' : 'info'\"\n              class=\"tag-item\"\n              @click=\"toggleTag(tag.name)\"\n            >\n              {{ tag.name }}\n            </el-tag>\n          </div>\n        </div>\n      </el-popover>\n\n      <!-- 添加备注 -->\n      <el-popover\n        placement=\"bottom\"\n        :width=\"280\"\n        trigger=\"click\"\n        v-model:visible=\"showNotePopover\"\n      >\n        <template #reference>\n          <button class=\"action-btn\" title=\"添加备注\">\n            <el-icon><EditPen /></el-icon>\n          </button>\n        </template>\n        <div class=\"note-editor\">\n          <el-input\n            v-model=\"noteContent\"\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"添加备注...\"\n          />\n          <div class=\"note-actions\">\n            <el-button size=\"small\" @click=\"showNotePopover = false\">取消</el-button>\n            <el-button size=\"small\" type=\"primary\" @click=\"saveWithNote\">保存</el-button>\n          </div>\n        </div>\n      </el-popover>\n\n      <div class=\"divider\"></div>\n\n      <!-- 保存按钮 -->\n      <button class=\"action-btn save-btn\" @click=\"saveHighlight\" title=\"保存划线\">\n        <el-icon><Check /></el-icon>\n      </button>\n\n      <!-- 取消按钮 -->\n      <button class=\"action-btn cancel-btn\" @click=\"cancel\" title=\"取消\">\n        <el-icon><Close /></el-icon>\n      </button>\n    </div>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue'\nimport { PriceTag, Plus, EditPen, Check, Close } from '@element-plus/icons-vue'\nimport type { Tag } from '@/types'\n\nconst props = defineProps<{\n  visible: boolean\n  position: { x: number; y: number }\n  selectedText: string\n  allTags: Tag[]\n}>()\n\nconst emit = defineEmits<{\n  (e: 'save', data: { color: string; note: string; tags: string[] }): void\n  (e: 'cancel'): void\n}>()\n\nconst colors = [\n  { value: 'yellow', bg: '#fef08a', label: '黄色' },\n  { value: 'green', bg: '#bbf7d0', label: '绿色' },\n  { value: 'blue', bg: '#bfdbfe', label: '蓝色' },\n  { value: 'pink', bg: '#fbcfe8', label: '粉色' },\n  { value: 'purple', bg: '#ddd6fe', label: '紫色' }\n]\n\nconst selectedColor = ref('yellow')\nconst selectedTags = ref<string[]>([])\nconst noteContent = ref('')\nconst newTagName = ref('')\nconst showTagPopover = ref(false)\nconst showNotePopover = ref(false)\n\nconst toolbarStyle = computed(() => ({\n  left: `${props.position.x}px`,\n  top: `${props.position.y}px`\n}))\n\n// 重置状态\nwatch(() => props.visible, (val) => {\n  if (val) {\n    selectedColor.value = 'yellow'\n    selectedTags.value = []\n    noteContent.value = ''\n    newTagName.value = ''\n    showTagPopover.value = false\n    showNotePopover.value = false\n  }\n})\n\nfunction selectColor(color: string) {\n  selectedColor.value = color\n}\n\nfunction toggleTag(tagName: string) {\n  const index = selectedTags.value.indexOf(tagName)\n  if (index > -1) {\n    selectedTags.value.splice(index, 1)\n  } else {\n    selectedTags.value.push(tagName)\n  }\n}\n\nfunction addTag() {\n  if (newTagName.value.trim()) {\n    if (!selectedTags.value.includes(newTagName.value.trim())) {\n      selectedTags.value.push(newTagName.value.trim())\n    }\n    newTagName.value = ''\n  }\n}\n\nfunction saveHighlight() {\n  emit('save', {\n    color: selectedColor.value,\n    note: noteContent.value,\n    tags: selectedTags.value\n  })\n}\n\nfunction saveWithNote() {\n  showNotePopover.value = false\n  saveHighlight()\n}\n\nfunction cancel() {\n  emit('cancel')\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.highlight-toolbar {\n  position: fixed;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 12px;\n  background: white;\n  border: 1px solid var(--border-color);\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  transform: translateX(-50%);\n}\n\n.color-picker {\n  display: flex;\n  gap: 4px;\n}\n\n.color-btn {\n  width: 24px;\n  height: 24px;\n  border: 2px solid transparent;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  &.active {\n    border-color: #333;\n  }\n}\n\n.divider {\n  width: 1px;\n  height: 24px;\n  background-color: var(--border-color);\n  margin: 0 4px;\n}\n\n.action-btn {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 6px 10px;\n  background: none;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 13px;\n  color: var(--text-secondary);\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: var(--hover-color);\n    color: var(--text-primary);\n  }\n\n  &.save-btn {\n    color: $primary-color;\n  }\n\n  &.cancel-btn {\n    color: var(--text-muted);\n  }\n}\n\n.tag-selector {\n  .tag-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 6px;\n    margin-top: 12px;\n  }\n\n  .tag-item {\n    cursor: pointer;\n  }\n}\n\n.note-editor {\n  .note-actions {\n    display: flex;\n    justify-content: flex-end;\n    gap: 8px;\n    margin-top: 12px;\n  }\n}\n</style>\n","import script from \"./HighlightToolbar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./HighlightToolbar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./HighlightToolbar.vue?vue&type=style&index=0&id=2ff57997&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2ff57997\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, createBlock as _createBlock, unref as _unref } from \"vue\"\n\nconst _hoisted_1 = { class: \"reader-left\" }\nconst _hoisted_2 = { class: \"panel-header\" }\nconst _hoisted_3 = { class: \"toc-list\" }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = {\n  key: 0,\n  class: \"toc-empty\"\n}\nconst _hoisted_6 = { class: \"main-container\" }\nconst _hoisted_7 = { class: \"main-toolbar\" }\nconst _hoisted_8 = { class: \"toolbar-right\" }\nconst _hoisted_9 = {\n  key: 0,\n  class: \"source-tag\"\n}\nconst _hoisted_10 = {\n  key: 1,\n  class: \"article-title\"\n}\nconst _hoisted_11 = {\n  key: 2,\n  class: \"article-meta\"\n}\nconst _hoisted_12 = { key: 0 }\nconst _hoisted_13 = {\n  key: 1,\n  class: \"separator\"\n}\nconst _hoisted_14 = {\n  key: 3,\n  class: \"loading-state\"\n}\nconst _hoisted_15 = {\n  key: 4,\n  class: \"error-state\"\n}\nconst _hoisted_16 = [\"innerHTML\"]\nconst _hoisted_17 = {\n  key: 6,\n  class: \"article-footer\"\n}\nconst _hoisted_18 = { class: \"reader-right\" }\nconst _hoisted_19 = { class: \"panel-header\" }\nconst _hoisted_20 = { class: \"panel-tabs\" }\nconst _hoisted_21 = {\n  key: 0,\n  class: \"info-content\"\n}\nconst _hoisted_22 = { class: \"info-section\" }\nconst _hoisted_23 = { class: \"metadata-list\" }\nconst _hoisted_24 = { class: \"metadata-item\" }\nconst _hoisted_25 = { class: \"meta-value\" }\nconst _hoisted_26 = { class: \"metadata-item\" }\nconst _hoisted_27 = { class: \"meta-value\" }\nconst _hoisted_28 = { class: \"metadata-item\" }\nconst _hoisted_29 = { class: \"meta-value\" }\nconst _hoisted_30 = { class: \"metadata-item\" }\nconst _hoisted_31 = { class: \"meta-value\" }\nconst _hoisted_32 = { class: \"metadata-item\" }\nconst _hoisted_33 = { class: \"progress-info\" }\nconst _hoisted_34 = { class: \"progress-text\" }\nconst _hoisted_35 = { class: \"metadata-item\" }\nconst _hoisted_36 = { class: \"meta-value\" }\nconst _hoisted_37 = {\n  key: 1,\n  class: \"notebook-content\"\n}\nconst _hoisted_38 = { class: \"info-section\" }\nconst _hoisted_39 = { class: \"note-input-area\" }\nconst _hoisted_40 = {\n  key: 0,\n  class: \"note-actions\"\n}\nconst _hoisted_41 = { class: \"info-section\" }\nconst _hoisted_42 = { class: \"section-title\" }\nconst _hoisted_43 = { class: \"highlight-count\" }\nconst _hoisted_44 = {\n  key: 0,\n  class: \"highlights-list\"\n}\nconst _hoisted_45 = { class: \"highlight-text\" }\nconst _hoisted_46 = {\n  key: 0,\n  class: \"highlight-note\"\n}\nconst _hoisted_47 = {\n  key: 1,\n  class: \"highlight-tags\"\n}\nconst _hoisted_48 = { class: \"highlight-footer\" }\nconst _hoisted_49 = { class: \"highlight-time\" }\nconst _hoisted_50 = {\n  key: 1,\n  class: \"highlights-empty\"\n}\nconst _hoisted_51 = { class: \"reading-progress-bar\" }\n\nimport { ref, computed, watch, onMounted, onUnmounted, nextTick } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useArticleStore } from '@/stores/article'\nimport { useSettingsStore } from '@/stores/settings'\nimport { useHighlightStore } from '@/stores/highlight'\nimport { useNoteStore } from '@/stores/note'\nimport { getArticle, getFullContent } from '@/api/article'\nimport ReadingSettings from '@/components/ReadingSettings/ReadingSettings.vue'\nimport HighlightToolbar from '@/components/Highlight/HighlightToolbar.vue'\nimport type { Article, CreateHighlightParams } from '@/types'\n\ninterface HeadingItem {\n  text: string\n  level: number\n  element?: HTMLElement\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Reader',\n  setup(__props) {\n\nconst route = useRoute()\nconst router = useRouter()\nconst articleStore = useArticleStore()\nconst settingsStore = useSettingsStore()\nconst highlightStore = useHighlightStore()\nconst noteStore = useNoteStore()\n\nconst mainRef = ref<HTMLElement | null>(null)\nconst contentRef = ref<HTMLElement | null>(null)\n\n// 面板显示状态\nconst showLeft = ref(true)\nconst showRight = ref(true)\nconst activeTab = ref<'info' | 'notebook'>('info')\n\n// 文章数据\nconst article = ref<Article | null>(null)\nconst loading = ref(false)\nconst error = ref<string | null>(null)\n\n// 原文内容\nconst fullContent = ref<string | null>(null)\n\n// 目录\nconst tableOfContents = ref<HeadingItem[]>([])\nconst activeHeading = ref(-1)\n\n// 阅读进度\nconst readProgress = ref(0)\n\n// 划线工具栏\nconst showHighlightToolbar = ref(false)\nconst toolbarPosition = ref({ x: 0, y: 0 })\nconst selectedText = ref('')\nconst selectionRange = ref<Range | null>(null)\n\n// 文档笔记\nconst documentNote = ref('')\nconst savedNote = ref('')\n\n// 显示的内容（优先原文，失败则使用RSS内容）\nconst displayContent = computed(() => {\n  return fullContent.value || article.value?.description || ''\n})\n\n// 带划线标记的内容\nconst highlightedContent = computed(() => {\n  const content = displayContent.value\n  if (!content || highlightStore.highlights.length === 0) {\n    return content\n  }\n\n  // 按startOffset降序排列，从后往前替换避免偏移问题\n  const sortedHighlights = [...highlightStore.highlights].sort(\n    (a, b) => b.startOffset - a.startOffset\n  )\n\n  let result = content\n  const plainText = content.replace(/<[^>]*>/g, '')\n\n  for (const hl of sortedHighlights) {\n    // 在纯文本中找到对应位置\n    const text = hl.selectedText\n    const textIndex = plainText.indexOf(text)\n    if (textIndex === -1) continue\n\n    // 在HTML中查找并替换\n    const escapedText = text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n    const regex = new RegExp(`(?<=>)[^<]*?${escapedText}[^<]*?(?=<)`, 'g')\n\n    result = result.replace(text,\n      `<mark class=\"highlight-mark highlight-${hl.color}\" data-highlight-id=\"${hl.id}\">${text}</mark>`\n    )\n  }\n\n  return result\n})\n\n// 内容样式\nconst contentStyle = computed(() => {\n  const { fontSize, lineHeight, fontFamily } = settingsStore.reading\n\n  let fontFamilyValue = ''\n  switch (fontFamily) {\n    case 'serif':\n      fontFamilyValue = 'Georgia, \"Times New Roman\", serif'\n      break\n    case 'sans-serif':\n      fontFamilyValue = '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n      break\n    case 'monospace':\n      fontFamilyValue = '\"Fira Code\", Consolas, Monaco, monospace'\n      break\n    default:\n      fontFamilyValue = 'inherit'\n  }\n\n  return {\n    fontSize: `${fontSize}px`,\n    lineHeight: lineHeight,\n    fontFamily: fontFamilyValue\n  }\n})\n\n// 计算字数\nconst wordCount = computed(() => {\n  const content = displayContent.value\n  const text = content.replace(/<[^>]*>/g, '')\n  return text.length\n})\n\n// 计算阅读时间（假设每分钟阅读300字）\nconst readingTime = computed(() => {\n  return Math.max(1, Math.ceil(wordCount.value / 300))\n})\n\n// 获取域名\nconst domain = computed(() => {\n  if (!article.value?.link) return ''\n  try {\n    const url = new URL(article.value.link)\n    return url.hostname\n  } catch {\n    return ''\n  }\n})\n\n// 加载文章和原文\nasync function loadArticle() {\n  const id = Number(route.params.id)\n  if (!id) return\n\n  loading.value = true\n  error.value = null\n  fullContent.value = null\n\n  try {\n    // 先加载文章基本信息\n    article.value = await getArticle(id)\n\n    // 自动标记为已读\n    if (article.value && article.value.isRead === 0) {\n      await articleStore.markAsRead(id)\n      article.value.isRead = 1\n    }\n\n    // 并行加载原文内容、划线、笔记\n    const promises: Promise<any>[] = []\n\n    // 加载原文内容\n    promises.push(\n      getFullContent(id)\n        .then(content => { fullContent.value = content })\n        .catch(() => { console.warn('Failed to load full content, using RSS content instead') })\n    )\n\n    // 加载划线\n    promises.push(highlightStore.fetchHighlights(id))\n\n    // 加载笔记\n    promises.push(\n      noteStore.fetchNote(id).then(() => {\n        documentNote.value = noteStore.note?.noteContent || ''\n        savedNote.value = documentNote.value\n      })\n    )\n\n    // 加载标签\n    promises.push(highlightStore.fetchTags())\n\n    await Promise.all(promises)\n\n    // 提取目录\n    await nextTick()\n    extractTableOfContents()\n  } catch (e: any) {\n    error.value = e.message || '加载文章失败'\n  } finally {\n    loading.value = false\n  }\n}\n\n// 处理文本选择\nfunction handleTextSelection(e: MouseEvent) {\n  const selection = window.getSelection()\n  if (!selection || selection.isCollapsed || !selection.toString().trim()) {\n    // 点击空白处隐藏工具栏\n    if (!showHighlightToolbar.value) return\n    // 延迟隐藏，避免点击工具栏时关闭\n    setTimeout(() => {\n      const toolbar = document.querySelector('.highlight-toolbar')\n      if (toolbar && !toolbar.contains(e.target as Node)) {\n        hideHighlightToolbar()\n      }\n    }, 100)\n    return\n  }\n\n  // 检查选择是否在文章内容区域内\n  if (!contentRef.value?.contains(selection.anchorNode)) {\n    return\n  }\n\n  const text = selection.toString().trim()\n  if (text.length < 2) return // 至少选择2个字符\n\n  selectedText.value = text\n  selectionRange.value = selection.getRangeAt(0).cloneRange()\n\n  // 计算工具栏位置\n  const rect = selection.getRangeAt(0).getBoundingClientRect()\n  toolbarPosition.value = {\n    x: rect.left + rect.width / 2,\n    y: rect.top - 10\n  }\n\n  showHighlightToolbar.value = true\n}\n\n// 隐藏划线工具栏\nfunction hideHighlightToolbar() {\n  showHighlightToolbar.value = false\n  selectedText.value = ''\n  selectionRange.value = null\n  window.getSelection()?.removeAllRanges()\n}\n\n// 保存划线\nasync function handleSaveHighlight(data: { color: string; note: string; tags: string[] }) {\n  if (!article.value || !selectionRange.value) return\n\n  const range = selectionRange.value\n\n  // 计算偏移量\n  const contentText = contentRef.value?.textContent || ''\n  const preSelectionRange = document.createRange()\n  preSelectionRange.selectNodeContents(contentRef.value!)\n  preSelectionRange.setEnd(range.startContainer, range.startOffset)\n  const startOffset = preSelectionRange.toString().length\n  const endOffset = startOffset + selectedText.value.length\n\n  const params: CreateHighlightParams = {\n    articleId: article.value.id,\n    selectedText: selectedText.value,\n    startOffset,\n    endOffset,\n    color: data.color,\n    note: data.note || undefined,\n    tagNames: data.tags.length > 0 ? data.tags : undefined\n  }\n\n  try {\n    await highlightStore.createHighlight(params)\n    hideHighlightToolbar()\n  } catch (e) {\n    console.error('Failed to save highlight:', e)\n  }\n}\n\n// 删除划线\nasync function deleteHighlight(id: number) {\n  try {\n    await highlightStore.deleteHighlight(id)\n  } catch (e) {\n    console.error('Failed to delete highlight:', e)\n  }\n}\n\n// 保存文档笔记\nasync function saveDocumentNote() {\n  if (!article.value || documentNote.value === savedNote.value) return\n\n  try {\n    await noteStore.saveNote(article.value.id, documentNote.value)\n    savedNote.value = documentNote.value\n  } catch (e) {\n    console.error('Failed to save note:', e)\n  }\n}\n\n// 格式化时间\nfunction formatTime(dateStr: string): string {\n  const date = new Date(dateStr)\n  const now = new Date()\n  const diff = now.getTime() - date.getTime()\n\n  if (diff < 60000) return 'just now'\n  if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`\n  if (diff < 86400000) return `${Math.floor(diff / 3600000)}h ago`\n  if (diff < 604800000) return `${Math.floor(diff / 86400000)}d ago`\n\n  return date.toLocaleDateString('zh-CN', { month: 'short', day: 'numeric' })\n}\n\n// 提取目录\nfunction extractTableOfContents() {\n  if (!contentRef.value) return\n\n  const headings = contentRef.value.querySelectorAll('h1, h2, h3, h4, h5, h6')\n  tableOfContents.value = Array.from(headings).map((el) => {\n    const level = parseInt(el.tagName.charAt(1))\n    return {\n      text: el.textContent?.trim() || '',\n      level,\n      element: el as HTMLElement\n    }\n  })\n}\n\n// 滚动到指定标题\nfunction scrollToHeading(index: number) {\n  const heading = tableOfContents.value[index]\n  if (heading?.element) {\n    heading.element.scrollIntoView({ behavior: 'smooth', block: 'start' })\n    activeHeading.value = index\n  }\n}\n\n// 处理滚动\nfunction handleScroll() {\n  if (!mainRef.value) return\n\n  const { scrollTop, scrollHeight, clientHeight } = mainRef.value\n  const maxScroll = scrollHeight - clientHeight\n\n  // 更新阅读进度\n  if (maxScroll > 0) {\n    readProgress.value = Math.round((scrollTop / maxScroll) * 100)\n  }\n\n  // 更新当前高亮的目录项\n  if (contentRef.value) {\n    const headings = tableOfContents.value\n    for (let i = headings.length - 1; i >= 0; i--) {\n      const el = headings[i].element\n      if (el && el.getBoundingClientRect().top <= 100) {\n        activeHeading.value = i\n        break\n      }\n    }\n  }\n}\n\n// 监听路由变化\nwatch(() => route.params.id, () => {\n  loadArticle()\n}, { immediate: true })\n\n// 格式化日期\nfunction formatDate(dateStr: string): string {\n  return new Date(dateStr).toLocaleDateString('zh-CN', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  })\n}\n\n// 返回\nfunction goBack() {\n  router.back()\n}\n\n// 切换已读状态\nasync function toggleReadStatus() {\n  if (!article.value) return\n  if (article.value.isRead === 1) {\n    await articleStore.markAsUnread(article.value.id)\n    article.value.isRead = 0\n  } else {\n    await articleStore.markAsRead(article.value.id)\n    article.value.isRead = 1\n  }\n}\n\n// 切换收藏状态\nasync function toggleFavorite() {\n  if (!article.value) return\n  await articleStore.toggleFavorite(article.value.id)\n  article.value.isFavorite = article.value.isFavorite === 1 ? 0 : 1\n}\n\n// 打开原文\nfunction openOriginal() {\n  if (article.value?.link) {\n    window.open(article.value.link, '_blank')\n  }\n}\n\n// 键盘快捷键\nfunction handleKeydown(e: KeyboardEvent) {\n  if (e.key === 'Escape') {\n    goBack()\n  } else if (e.key === '[') {\n    showLeft.value = !showLeft.value\n  } else if (e.key === ']') {\n    showRight.value = !showRight.value\n  }\n}\n\n// 点击空白处隐藏工具栏\nfunction handleDocumentClick(e: MouseEvent) {\n  if (!showHighlightToolbar.value) return\n  const toolbar = document.querySelector('.highlight-toolbar')\n  if (toolbar && !toolbar.contains(e.target as Node)) {\n    hideHighlightToolbar()\n  }\n}\n\nonMounted(() => {\n  window.addEventListener('keydown', handleKeydown)\n  document.addEventListener('click', handleDocumentClick)\n})\n\nonUnmounted(() => {\n  window.removeEventListener('keydown', handleKeydown)\n  document.removeEventListener('click', handleDocumentClick)\n  // 清理store状态\n  highlightStore.clearHighlights()\n  noteStore.clearNote()\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Close = _resolveComponent(\"Close\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_DArrowRight = _resolveComponent(\"DArrowRight\")!\n  const _component_ArrowLeft = _resolveComponent(\"ArrowLeft\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_Loading = _resolveComponent(\"Loading\")!\n  const _component_Warning = _resolveComponent(\"Warning\")!\n  const _component_View = _resolveComponent(\"View\")!\n  const _component_Hide = _resolveComponent(\"Hide\")!\n  const _component_StarFilled = _resolveComponent(\"StarFilled\")!\n  const _component_Star = _resolveComponent(\"Star\")!\n  const _component_Link = _resolveComponent(\"Link\")!\n  const _component_DArrowLeft = _resolveComponent(\"DArrowLeft\")!\n  const _component_el_progress = _resolveComponent(\"el-progress\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"reader-page\", { 'hide-left': !showLeft.value, 'hide-right': !showRight.value }])\n  }, [\n    _withDirectives(_createElementVNode(\"aside\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _cache[7] || (_cache[7] = _createElementVNode(\"h3\", null, \"Contents\", -1)),\n        _createVNode(_component_el_button, {\n          text: \"\",\n          circle: \"\",\n          size: \"small\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (showLeft.value = false))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_Close)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _createElementVNode(\"nav\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(tableOfContents.value, (heading, index) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: index,\n            class: _normalizeClass([\"toc-item\", [`level-${heading.level}`, { active: activeHeading.value === index }]]),\n            onClick: ($event: any) => (scrollToHeading(index))\n          }, _toDisplayString(heading.text), 11, _hoisted_4))\n        }), 128)),\n        (tableOfContents.value.length === 0 && !loading.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \" 暂无目录 \"))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 512), [\n      [_vShow, showLeft.value]\n    ]),\n    _withDirectives(_createElementVNode(\"button\", {\n      class: \"toggle-btn toggle-left\",\n      onClick: _cache[1] || (_cache[1] = ($event: any) => (showLeft.value = true))\n    }, [\n      _createVNode(_component_el_icon, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_DArrowRight)\n        ]),\n        _: 1\n      })\n    ], 512), [\n      [_vShow, !showLeft.value]\n    ]),\n    _createElementVNode(\"main\", {\n      class: \"reader-main\",\n      ref_key: \"mainRef\",\n      ref: mainRef,\n      onScroll: handleScroll,\n      onMouseup: handleTextSelection\n    }, [\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createVNode(_component_el_button, {\n            text: \"\",\n            onClick: goBack\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_icon, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ArrowLeft)\n                ]),\n                _: 1\n              }),\n              _cache[8] || (_cache[8] = _createTextVNode(\" 返回 \", -1))\n            ]),\n            _: 1\n          }),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createVNode(ReadingSettings)\n          ])\n        ]),\n        (article.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n              _createVNode(_component_el_tag, {\n                size: \"small\",\n                type: \"info\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(article.value.feedName), 1)\n                ]),\n                _: 1\n              })\n            ]))\n          : _createCommentVNode(\"\", true),\n        (article.value)\n          ? (_openBlock(), _createElementBlock(\"h1\", _hoisted_10, _toDisplayString(article.value.title), 1))\n          : _createCommentVNode(\"\", true),\n        (article.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n              (article.value.author)\n                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_12, _toDisplayString(article.value.author), 1))\n                : _createCommentVNode(\"\", true),\n              (article.value.author)\n                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_13, \"·\"))\n                : _createCommentVNode(\"\", true),\n              _createElementVNode(\"span\", null, _toDisplayString(readingTime.value) + \" min read\", 1),\n              _cache[9] || (_cache[9] = _createElementVNode(\"span\", { class: \"separator\" }, \"·\", -1)),\n              _createElementVNode(\"span\", null, _toDisplayString(formatDate(article.value.pubDate)), 1)\n            ]))\n          : _createCommentVNode(\"\", true),\n        (loading.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n              _createVNode(_component_el_icon, {\n                class: \"is-loading\",\n                size: 32\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_Loading)\n                ]),\n                _: 1\n              }),\n              _cache[10] || (_cache[10] = _createElementVNode(\"p\", null, \"正在加载原文内容...\", -1))\n            ]))\n          : (error.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                _createVNode(_component_el_icon, { size: 32 }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_Warning)\n                  ]),\n                  _: 1\n                }),\n                _createElementVNode(\"p\", null, _toDisplayString(error.value), 1),\n                _createVNode(_component_el_button, {\n                  type: \"primary\",\n                  onClick: loadArticle\n                }, {\n                  default: _withCtx(() => [...(_cache[11] || (_cache[11] = [\n                    _createTextVNode(\"重试\", -1)\n                  ]))]),\n                  _: 1\n                })\n              ]))\n            : (_openBlock(), _createElementBlock(\"article\", {\n                key: 5,\n                class: \"article-content\",\n                style: _normalizeStyle(contentStyle.value),\n                ref_key: \"contentRef\",\n                ref: contentRef,\n                innerHTML: highlightedContent.value\n              }, null, 12, _hoisted_16)),\n        (article.value && !loading.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n              _createVNode(_component_el_button, { onClick: toggleReadStatus }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_icon, null, {\n                    default: _withCtx(() => [\n                      (article.value.isRead === 0)\n                        ? (_openBlock(), _createBlock(_component_View, { key: 0 }))\n                        : (_openBlock(), _createBlock(_component_Hide, { key: 1 }))\n                    ]),\n                    _: 1\n                  }),\n                  _createTextVNode(\" \" + _toDisplayString(article.value.isRead === 1 ? '标为未读' : '标为已读'), 1)\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_button, { onClick: toggleFavorite }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_icon, null, {\n                    default: _withCtx(() => [\n                      (article.value.isFavorite === 1)\n                        ? (_openBlock(), _createBlock(_component_StarFilled, { key: 0 }))\n                        : (_openBlock(), _createBlock(_component_Star, { key: 1 }))\n                    ]),\n                    _: 1\n                  }),\n                  _createTextVNode(\" \" + _toDisplayString(article.value.isFavorite === 1 ? '取消收藏' : '收藏'), 1)\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_button, { onClick: openOriginal }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_icon, null, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_Link)\n                    ]),\n                    _: 1\n                  }),\n                  _cache[12] || (_cache[12] = _createTextVNode(\" 查看原文 \", -1))\n                ]),\n                _: 1\n              })\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 544),\n    _withDirectives(_createElementVNode(\"button\", {\n      class: \"toggle-btn toggle-right\",\n      onClick: _cache[2] || (_cache[2] = ($event: any) => (showRight.value = true))\n    }, [\n      _createVNode(_component_el_icon, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_DArrowLeft)\n        ]),\n        _: 1\n      })\n    ], 512), [\n      [_vShow, !showRight.value]\n    ]),\n    _withDirectives(_createElementVNode(\"aside\", _hoisted_18, [\n      _createElementVNode(\"div\", _hoisted_19, [\n        _createElementVNode(\"div\", _hoisted_20, [\n          _createElementVNode(\"span\", {\n            class: _normalizeClass([\"tab\", { active: activeTab.value === 'info' }]),\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (activeTab.value = 'info'))\n          }, \"Info\", 2),\n          _createElementVNode(\"span\", {\n            class: _normalizeClass([\"tab\", { active: activeTab.value === 'notebook' }]),\n            onClick: _cache[4] || (_cache[4] = ($event: any) => (activeTab.value = 'notebook'))\n          }, \"Notebook\", 2)\n        ]),\n        _createVNode(_component_el_button, {\n          text: \"\",\n          circle: \"\",\n          size: \"small\",\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (showRight.value = false))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_Close)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      (article.value && activeTab.value === 'info')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n            _createElementVNode(\"div\", _hoisted_22, [\n              _cache[21] || (_cache[21] = _createElementVNode(\"h4\", { class: \"section-title\" }, \"METADATA\", -1)),\n              _createElementVNode(\"div\", _hoisted_23, [\n                _cache[20] || (_cache[20] = _createElementVNode(\"div\", { class: \"metadata-item\" }, [\n                  _createElementVNode(\"span\", { class: \"meta-label\" }, \"Type\"),\n                  _createElementVNode(\"span\", { class: \"meta-value\" }, \"RSS Feed\")\n                ], -1)),\n                _createElementVNode(\"div\", _hoisted_24, [\n                  _cache[13] || (_cache[13] = _createElementVNode(\"span\", { class: \"meta-label\" }, \"Source\", -1)),\n                  _createElementVNode(\"span\", _hoisted_25, _toDisplayString(article.value.feedName), 1)\n                ]),\n                _createElementVNode(\"div\", _hoisted_26, [\n                  _cache[14] || (_cache[14] = _createElementVNode(\"span\", { class: \"meta-label\" }, \"Domain\", -1)),\n                  _createElementVNode(\"span\", _hoisted_27, _toDisplayString(domain.value), 1)\n                ]),\n                _createElementVNode(\"div\", _hoisted_28, [\n                  _cache[15] || (_cache[15] = _createElementVNode(\"span\", { class: \"meta-label\" }, \"Published\", -1)),\n                  _createElementVNode(\"span\", _hoisted_29, _toDisplayString(formatDate(article.value.pubDate)), 1)\n                ]),\n                _createElementVNode(\"div\", _hoisted_30, [\n                  _cache[16] || (_cache[16] = _createElementVNode(\"span\", { class: \"meta-label\" }, \"Words\", -1)),\n                  _createElementVNode(\"span\", _hoisted_31, _toDisplayString(wordCount.value) + \" 字\", 1)\n                ]),\n                _createElementVNode(\"div\", _hoisted_32, [\n                  _cache[17] || (_cache[17] = _createElementVNode(\"span\", { class: \"meta-label\" }, \"Progress\", -1)),\n                  _createElementVNode(\"div\", _hoisted_33, [\n                    _createVNode(_component_el_progress, {\n                      percentage: readProgress.value,\n                      \"stroke-width\": 4,\n                      \"show-text\": false\n                    }, null, 8, [\"percentage\"]),\n                    _createElementVNode(\"span\", _hoisted_34, _toDisplayString(readProgress.value) + \"%\", 1)\n                  ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_35, [\n                  _cache[19] || (_cache[19] = _createElementVNode(\"span\", { class: \"meta-label\" }, \"Status\", -1)),\n                  _createElementVNode(\"span\", _hoisted_36, [\n                    _createVNode(_component_el_tag, {\n                      type: article.value.isRead === 1 ? 'info' : 'success',\n                      size: \"small\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(article.value.isRead === 1 ? '已读' : '未读'), 1)\n                      ]),\n                      _: 1\n                    }, 8, [\"type\"]),\n                    (article.value.isFavorite === 1)\n                      ? (_openBlock(), _createBlock(_component_el_tag, {\n                          key: 0,\n                          type: \"warning\",\n                          size: \"small\",\n                          style: {\"margin-left\":\"4px\"}\n                        }, {\n                          default: _withCtx(() => [...(_cache[18] || (_cache[18] = [\n                            _createTextVNode(\" 已收藏 \", -1)\n                          ]))]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true)\n                  ])\n                ])\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"\", true),\n      (article.value && activeTab.value === 'notebook')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_37, [\n            _createElementVNode(\"div\", _hoisted_38, [\n              _cache[23] || (_cache[23] = _createElementVNode(\"h4\", { class: \"section-title\" }, \"DOCUMENT NOTE\", -1)),\n              _createElementVNode(\"div\", _hoisted_39, [\n                _createVNode(_component_el_input, {\n                  modelValue: documentNote.value,\n                  \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((documentNote).value = $event)),\n                  type: \"textarea\",\n                  rows: 4,\n                  placeholder: \"Write your notes about this article...\",\n                  onBlur: saveDocumentNote\n                }, null, 8, [\"modelValue\"]),\n                (documentNote.value !== savedNote.value)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_40, [\n                      _createVNode(_component_el_button, {\n                        size: \"small\",\n                        type: \"primary\",\n                        onClick: saveDocumentNote,\n                        loading: _unref(noteStore).saving\n                      }, {\n                        default: _withCtx(() => [...(_cache[22] || (_cache[22] = [\n                          _createTextVNode(\" Save \", -1)\n                        ]))]),\n                        _: 1\n                      }, 8, [\"loading\"])\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]),\n            _createElementVNode(\"div\", _hoisted_41, [\n              _createElementVNode(\"h4\", _hoisted_42, [\n                _cache[24] || (_cache[24] = _createTextVNode(\" HIGHLIGHTS \", -1)),\n                _createElementVNode(\"span\", _hoisted_43, \"(\" + _toDisplayString(_unref(highlightStore).highlights.length) + \")\", 1)\n              ]),\n              (_unref(highlightStore).highlights.length > 0)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_44, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(highlightStore).highlights, (hl) => {\n                      return (_openBlock(), _createElementBlock(\"div\", {\n                        key: hl.id,\n                        class: _normalizeClass([\"highlight-item\", [`highlight-${hl.color}`]])\n                      }, [\n                        _createElementVNode(\"div\", _hoisted_45, \"\\\"\" + _toDisplayString(hl.selectedText) + \"\\\"\", 1),\n                        (hl.note)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_46, _toDisplayString(hl.note), 1))\n                          : _createCommentVNode(\"\", true),\n                        (hl.tags && hl.tags.length > 0)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_47, [\n                              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(hl.tags, (tag) => {\n                                return (_openBlock(), _createBlock(_component_el_tag, {\n                                  key: tag.id,\n                                  size: \"small\",\n                                  type: \"info\"\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createTextVNode(_toDisplayString(tag.name), 1)\n                                  ]),\n                                  _: 2\n                                }, 1024))\n                              }), 128))\n                            ]))\n                          : _createCommentVNode(\"\", true),\n                        _createElementVNode(\"div\", _hoisted_48, [\n                          _createElementVNode(\"span\", _hoisted_49, _toDisplayString(formatTime(hl.createTime)), 1),\n                          _createVNode(_component_el_button, {\n                            text: \"\",\n                            size: \"small\",\n                            type: \"danger\",\n                            onClick: ($event: any) => (deleteHighlight(hl.id))\n                          }, {\n                            default: _withCtx(() => [...(_cache[25] || (_cache[25] = [\n                              _createTextVNode(\" Delete \", -1)\n                            ]))]),\n                            _: 1\n                          }, 8, [\"onClick\"])\n                        ])\n                      ], 2))\n                    }), 128))\n                  ]))\n                : (_openBlock(), _createElementBlock(\"div\", _hoisted_50, [...(_cache[26] || (_cache[26] = [\n                    _createElementVNode(\"p\", null, \"No highlights yet\", -1),\n                    _createElementVNode(\"p\", { class: \"hint\" }, \"Select text in the article to create highlights\", -1)\n                  ]))]))\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ], 512), [\n      [_vShow, showRight.value]\n    ]),\n    _createElementVNode(\"div\", _hoisted_51, [\n      _createElementVNode(\"div\", {\n        class: \"progress-fill\",\n        style: _normalizeStyle({ width: readProgress.value + '%' })\n      }, null, 4)\n    ]),\n    _createVNode(HighlightToolbar, {\n      visible: showHighlightToolbar.value,\n      position: toolbarPosition.value,\n      \"selected-text\": selectedText.value,\n      \"all-tags\": _unref(highlightStore).tags,\n      onSave: handleSaveHighlight,\n      onCancel: hideHighlightToolbar\n    }, null, 8, [\"visible\", \"position\", \"selected-text\", \"all-tags\"])\n  ], 2))\n}\n}\n\n})","<template>\n  <div class=\"reader-page\" :class=\"{ 'hide-left': !showLeft, 'hide-right': !showRight }\">\n    <!-- 左侧目录栏 -->\n    <aside class=\"reader-left\" v-show=\"showLeft\">\n      <div class=\"panel-header\">\n        <h3>Contents</h3>\n        <el-button text circle size=\"small\" @click=\"showLeft = false\">\n          <el-icon><Close /></el-icon>\n        </el-button>\n      </div>\n      <nav class=\"toc-list\">\n        <div\n          v-for=\"(heading, index) in tableOfContents\"\n          :key=\"index\"\n          class=\"toc-item\"\n          :class=\"[`level-${heading.level}`, { active: activeHeading === index }]\"\n          @click=\"scrollToHeading(index)\"\n        >\n          {{ heading.text }}\n        </div>\n        <div v-if=\"tableOfContents.length === 0 && !loading\" class=\"toc-empty\">\n          暂无目录\n        </div>\n      </nav>\n    </aside>\n\n    <!-- 左侧展开按钮 -->\n    <button class=\"toggle-btn toggle-left\" v-show=\"!showLeft\" @click=\"showLeft = true\">\n      <el-icon><DArrowRight /></el-icon>\n    </button>\n\n    <!-- 中间内容区 -->\n    <main class=\"reader-main\" ref=\"mainRef\" @scroll=\"handleScroll\" @mouseup=\"handleTextSelection\">\n      <div class=\"main-container\">\n        <!-- 顶部工具栏 -->\n        <div class=\"main-toolbar\">\n          <el-button text @click=\"goBack\">\n            <el-icon><ArrowLeft /></el-icon>\n            返回\n          </el-button>\n          <div class=\"toolbar-right\">\n            <ReadingSettings />\n          </div>\n        </div>\n\n        <!-- 文章来源标签 -->\n        <div class=\"source-tag\" v-if=\"article\">\n          <el-tag size=\"small\" type=\"info\">{{ article.feedName }}</el-tag>\n        </div>\n\n        <!-- 文章标题 -->\n        <h1 class=\"article-title\" v-if=\"article\">{{ article.title }}</h1>\n\n        <!-- 文章元信息 -->\n        <div class=\"article-meta\" v-if=\"article\">\n          <span v-if=\"article.author\">{{ article.author }}</span>\n          <span class=\"separator\" v-if=\"article.author\">·</span>\n          <span>{{ readingTime }} min read</span>\n          <span class=\"separator\">·</span>\n          <span>{{ formatDate(article.pubDate) }}</span>\n        </div>\n\n        <!-- 加载状态 -->\n        <div v-if=\"loading\" class=\"loading-state\">\n          <el-icon class=\"is-loading\" :size=\"32\"><Loading /></el-icon>\n          <p>正在加载原文内容...</p>\n        </div>\n\n        <!-- 错误状态 -->\n        <div v-else-if=\"error\" class=\"error-state\">\n          <el-icon :size=\"32\"><Warning /></el-icon>\n          <p>{{ error }}</p>\n          <el-button type=\"primary\" @click=\"loadArticle\">重试</el-button>\n        </div>\n\n        <!-- 文章内容 -->\n        <article\n          v-else\n          class=\"article-content\"\n          :style=\"contentStyle\"\n          ref=\"contentRef\"\n          v-html=\"highlightedContent\"\n        ></article>\n\n        <!-- 底部操作栏 -->\n        <div class=\"article-footer\" v-if=\"article && !loading\">\n          <el-button @click=\"toggleReadStatus\">\n            <el-icon><View v-if=\"article.isRead === 0\" /><Hide v-else /></el-icon>\n            {{ article.isRead === 1 ? '标为未读' : '标为已读' }}\n          </el-button>\n          <el-button @click=\"toggleFavorite\">\n            <el-icon><StarFilled v-if=\"article.isFavorite === 1\" /><Star v-else /></el-icon>\n            {{ article.isFavorite === 1 ? '取消收藏' : '收藏' }}\n          </el-button>\n          <el-button @click=\"openOriginal\">\n            <el-icon><Link /></el-icon>\n            查看原文\n          </el-button>\n        </div>\n      </div>\n    </main>\n\n    <!-- 右侧展开按钮 -->\n    <button class=\"toggle-btn toggle-right\" v-show=\"!showRight\" @click=\"showRight = true\">\n      <el-icon><DArrowLeft /></el-icon>\n    </button>\n\n    <!-- 右侧信息栏 -->\n    <aside class=\"reader-right\" v-show=\"showRight\">\n      <div class=\"panel-header\">\n        <div class=\"panel-tabs\">\n          <span\n            class=\"tab\"\n            :class=\"{ active: activeTab === 'info' }\"\n            @click=\"activeTab = 'info'\"\n          >Info</span>\n          <span\n            class=\"tab\"\n            :class=\"{ active: activeTab === 'notebook' }\"\n            @click=\"activeTab = 'notebook'\"\n          >Notebook</span>\n        </div>\n        <el-button text circle size=\"small\" @click=\"showRight = false\">\n          <el-icon><Close /></el-icon>\n        </el-button>\n      </div>\n\n      <!-- Info 面板 -->\n      <div class=\"info-content\" v-if=\"article && activeTab === 'info'\">\n        <!-- 元数据 -->\n        <div class=\"info-section\">\n          <h4 class=\"section-title\">METADATA</h4>\n          <div class=\"metadata-list\">\n            <div class=\"metadata-item\">\n              <span class=\"meta-label\">Type</span>\n              <span class=\"meta-value\">RSS Feed</span>\n            </div>\n            <div class=\"metadata-item\">\n              <span class=\"meta-label\">Source</span>\n              <span class=\"meta-value\">{{ article.feedName }}</span>\n            </div>\n            <div class=\"metadata-item\">\n              <span class=\"meta-label\">Domain</span>\n              <span class=\"meta-value\">{{ domain }}</span>\n            </div>\n            <div class=\"metadata-item\">\n              <span class=\"meta-label\">Published</span>\n              <span class=\"meta-value\">{{ formatDate(article.pubDate) }}</span>\n            </div>\n            <div class=\"metadata-item\">\n              <span class=\"meta-label\">Words</span>\n              <span class=\"meta-value\">{{ wordCount }} 字</span>\n            </div>\n            <div class=\"metadata-item\">\n              <span class=\"meta-label\">Progress</span>\n              <div class=\"progress-info\">\n                <el-progress\n                  :percentage=\"readProgress\"\n                  :stroke-width=\"4\"\n                  :show-text=\"false\"\n                />\n                <span class=\"progress-text\">{{ readProgress }}%</span>\n              </div>\n            </div>\n            <div class=\"metadata-item\">\n              <span class=\"meta-label\">Status</span>\n              <span class=\"meta-value\">\n                <el-tag :type=\"article.isRead === 1 ? 'info' : 'success'\" size=\"small\">\n                  {{ article.isRead === 1 ? '已读' : '未读' }}\n                </el-tag>\n                <el-tag v-if=\"article.isFavorite === 1\" type=\"warning\" size=\"small\" style=\"margin-left: 4px\">\n                  已收藏\n                </el-tag>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Notebook 面板 -->\n      <div class=\"notebook-content\" v-if=\"article && activeTab === 'notebook'\">\n        <!-- 文档笔记 -->\n        <div class=\"info-section\">\n          <h4 class=\"section-title\">DOCUMENT NOTE</h4>\n          <div class=\"note-input-area\">\n            <el-input\n              v-model=\"documentNote\"\n              type=\"textarea\"\n              :rows=\"4\"\n              placeholder=\"Write your notes about this article...\"\n              @blur=\"saveDocumentNote\"\n            />\n            <div class=\"note-actions\" v-if=\"documentNote !== savedNote\">\n              <el-button size=\"small\" type=\"primary\" @click=\"saveDocumentNote\" :loading=\"noteStore.saving\">\n                Save\n              </el-button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 划线列表 -->\n        <div class=\"info-section\">\n          <h4 class=\"section-title\">\n            HIGHLIGHTS\n            <span class=\"highlight-count\">({{ highlightStore.highlights.length }})</span>\n          </h4>\n          <div class=\"highlights-list\" v-if=\"highlightStore.highlights.length > 0\">\n            <div\n              v-for=\"hl in highlightStore.highlights\"\n              :key=\"hl.id\"\n              class=\"highlight-item\"\n              :class=\"[`highlight-${hl.color}`]\"\n            >\n              <div class=\"highlight-text\">\"{{ hl.selectedText }}\"</div>\n              <div class=\"highlight-note\" v-if=\"hl.note\">{{ hl.note }}</div>\n              <div class=\"highlight-tags\" v-if=\"hl.tags && hl.tags.length > 0\">\n                <el-tag\n                  v-for=\"tag in hl.tags\"\n                  :key=\"tag.id\"\n                  size=\"small\"\n                  type=\"info\"\n                >\n                  {{ tag.name }}\n                </el-tag>\n              </div>\n              <div class=\"highlight-footer\">\n                <span class=\"highlight-time\">{{ formatTime(hl.createTime) }}</span>\n                <el-button\n                  text\n                  size=\"small\"\n                  type=\"danger\"\n                  @click=\"deleteHighlight(hl.id)\"\n                >\n                  Delete\n                </el-button>\n              </div>\n            </div>\n          </div>\n          <div class=\"highlights-empty\" v-else>\n            <p>No highlights yet</p>\n            <p class=\"hint\">Select text in the article to create highlights</p>\n          </div>\n        </div>\n      </div>\n    </aside>\n\n    <!-- 阅读进度条 -->\n    <div class=\"reading-progress-bar\">\n      <div class=\"progress-fill\" :style=\"{ width: readProgress + '%' }\"></div>\n    </div>\n\n    <!-- 划线工具栏 -->\n    <HighlightToolbar\n      :visible=\"showHighlightToolbar\"\n      :position=\"toolbarPosition\"\n      :selected-text=\"selectedText\"\n      :all-tags=\"highlightStore.tags\"\n      @save=\"handleSaveHighlight\"\n      @cancel=\"hideHighlightToolbar\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onUnmounted, nextTick } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useArticleStore } from '@/stores/article'\nimport { useSettingsStore } from '@/stores/settings'\nimport { useHighlightStore } from '@/stores/highlight'\nimport { useNoteStore } from '@/stores/note'\nimport { getArticle, getFullContent } from '@/api/article'\nimport ReadingSettings from '@/components/ReadingSettings/ReadingSettings.vue'\nimport HighlightToolbar from '@/components/Highlight/HighlightToolbar.vue'\nimport type { Article, CreateHighlightParams } from '@/types'\n\ninterface HeadingItem {\n  text: string\n  level: number\n  element?: HTMLElement\n}\n\nconst route = useRoute()\nconst router = useRouter()\nconst articleStore = useArticleStore()\nconst settingsStore = useSettingsStore()\nconst highlightStore = useHighlightStore()\nconst noteStore = useNoteStore()\n\nconst mainRef = ref<HTMLElement | null>(null)\nconst contentRef = ref<HTMLElement | null>(null)\n\n// 面板显示状态\nconst showLeft = ref(true)\nconst showRight = ref(true)\nconst activeTab = ref<'info' | 'notebook'>('info')\n\n// 文章数据\nconst article = ref<Article | null>(null)\nconst loading = ref(false)\nconst error = ref<string | null>(null)\n\n// 原文内容\nconst fullContent = ref<string | null>(null)\n\n// 目录\nconst tableOfContents = ref<HeadingItem[]>([])\nconst activeHeading = ref(-1)\n\n// 阅读进度\nconst readProgress = ref(0)\n\n// 划线工具栏\nconst showHighlightToolbar = ref(false)\nconst toolbarPosition = ref({ x: 0, y: 0 })\nconst selectedText = ref('')\nconst selectionRange = ref<Range | null>(null)\n\n// 文档笔记\nconst documentNote = ref('')\nconst savedNote = ref('')\n\n// 显示的内容（优先原文，失败则使用RSS内容）\nconst displayContent = computed(() => {\n  return fullContent.value || article.value?.description || ''\n})\n\n// 带划线标记的内容\nconst highlightedContent = computed(() => {\n  const content = displayContent.value\n  if (!content || highlightStore.highlights.length === 0) {\n    return content\n  }\n\n  // 按startOffset降序排列，从后往前替换避免偏移问题\n  const sortedHighlights = [...highlightStore.highlights].sort(\n    (a, b) => b.startOffset - a.startOffset\n  )\n\n  let result = content\n  const plainText = content.replace(/<[^>]*>/g, '')\n\n  for (const hl of sortedHighlights) {\n    // 在纯文本中找到对应位置\n    const text = hl.selectedText\n    const textIndex = plainText.indexOf(text)\n    if (textIndex === -1) continue\n\n    // 在HTML中查找并替换\n    const escapedText = text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n    const regex = new RegExp(`(?<=>)[^<]*?${escapedText}[^<]*?(?=<)`, 'g')\n\n    result = result.replace(text,\n      `<mark class=\"highlight-mark highlight-${hl.color}\" data-highlight-id=\"${hl.id}\">${text}</mark>`\n    )\n  }\n\n  return result\n})\n\n// 内容样式\nconst contentStyle = computed(() => {\n  const { fontSize, lineHeight, fontFamily } = settingsStore.reading\n\n  let fontFamilyValue = ''\n  switch (fontFamily) {\n    case 'serif':\n      fontFamilyValue = 'Georgia, \"Times New Roman\", serif'\n      break\n    case 'sans-serif':\n      fontFamilyValue = '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n      break\n    case 'monospace':\n      fontFamilyValue = '\"Fira Code\", Consolas, Monaco, monospace'\n      break\n    default:\n      fontFamilyValue = 'inherit'\n  }\n\n  return {\n    fontSize: `${fontSize}px`,\n    lineHeight: lineHeight,\n    fontFamily: fontFamilyValue\n  }\n})\n\n// 计算字数\nconst wordCount = computed(() => {\n  const content = displayContent.value\n  const text = content.replace(/<[^>]*>/g, '')\n  return text.length\n})\n\n// 计算阅读时间（假设每分钟阅读300字）\nconst readingTime = computed(() => {\n  return Math.max(1, Math.ceil(wordCount.value / 300))\n})\n\n// 获取域名\nconst domain = computed(() => {\n  if (!article.value?.link) return ''\n  try {\n    const url = new URL(article.value.link)\n    return url.hostname\n  } catch {\n    return ''\n  }\n})\n\n// 加载文章和原文\nasync function loadArticle() {\n  const id = Number(route.params.id)\n  if (!id) return\n\n  loading.value = true\n  error.value = null\n  fullContent.value = null\n\n  try {\n    // 先加载文章基本信息\n    article.value = await getArticle(id)\n\n    // 自动标记为已读\n    if (article.value && article.value.isRead === 0) {\n      await articleStore.markAsRead(id)\n      article.value.isRead = 1\n    }\n\n    // 并行加载原文内容、划线、笔记\n    const promises: Promise<any>[] = []\n\n    // 加载原文内容\n    promises.push(\n      getFullContent(id)\n        .then(content => { fullContent.value = content })\n        .catch(() => { console.warn('Failed to load full content, using RSS content instead') })\n    )\n\n    // 加载划线\n    promises.push(highlightStore.fetchHighlights(id))\n\n    // 加载笔记\n    promises.push(\n      noteStore.fetchNote(id).then(() => {\n        documentNote.value = noteStore.note?.noteContent || ''\n        savedNote.value = documentNote.value\n      })\n    )\n\n    // 加载标签\n    promises.push(highlightStore.fetchTags())\n\n    await Promise.all(promises)\n\n    // 提取目录\n    await nextTick()\n    extractTableOfContents()\n  } catch (e: any) {\n    error.value = e.message || '加载文章失败'\n  } finally {\n    loading.value = false\n  }\n}\n\n// 处理文本选择\nfunction handleTextSelection(e: MouseEvent) {\n  const selection = window.getSelection()\n  if (!selection || selection.isCollapsed || !selection.toString().trim()) {\n    // 点击空白处隐藏工具栏\n    if (!showHighlightToolbar.value) return\n    // 延迟隐藏，避免点击工具栏时关闭\n    setTimeout(() => {\n      const toolbar = document.querySelector('.highlight-toolbar')\n      if (toolbar && !toolbar.contains(e.target as Node)) {\n        hideHighlightToolbar()\n      }\n    }, 100)\n    return\n  }\n\n  // 检查选择是否在文章内容区域内\n  if (!contentRef.value?.contains(selection.anchorNode)) {\n    return\n  }\n\n  const text = selection.toString().trim()\n  if (text.length < 2) return // 至少选择2个字符\n\n  selectedText.value = text\n  selectionRange.value = selection.getRangeAt(0).cloneRange()\n\n  // 计算工具栏位置\n  const rect = selection.getRangeAt(0).getBoundingClientRect()\n  toolbarPosition.value = {\n    x: rect.left + rect.width / 2,\n    y: rect.top - 10\n  }\n\n  showHighlightToolbar.value = true\n}\n\n// 隐藏划线工具栏\nfunction hideHighlightToolbar() {\n  showHighlightToolbar.value = false\n  selectedText.value = ''\n  selectionRange.value = null\n  window.getSelection()?.removeAllRanges()\n}\n\n// 保存划线\nasync function handleSaveHighlight(data: { color: string; note: string; tags: string[] }) {\n  if (!article.value || !selectionRange.value) return\n\n  const range = selectionRange.value\n\n  // 计算偏移量\n  const contentText = contentRef.value?.textContent || ''\n  const preSelectionRange = document.createRange()\n  preSelectionRange.selectNodeContents(contentRef.value!)\n  preSelectionRange.setEnd(range.startContainer, range.startOffset)\n  const startOffset = preSelectionRange.toString().length\n  const endOffset = startOffset + selectedText.value.length\n\n  const params: CreateHighlightParams = {\n    articleId: article.value.id,\n    selectedText: selectedText.value,\n    startOffset,\n    endOffset,\n    color: data.color,\n    note: data.note || undefined,\n    tagNames: data.tags.length > 0 ? data.tags : undefined\n  }\n\n  try {\n    await highlightStore.createHighlight(params)\n    hideHighlightToolbar()\n  } catch (e) {\n    console.error('Failed to save highlight:', e)\n  }\n}\n\n// 删除划线\nasync function deleteHighlight(id: number) {\n  try {\n    await highlightStore.deleteHighlight(id)\n  } catch (e) {\n    console.error('Failed to delete highlight:', e)\n  }\n}\n\n// 保存文档笔记\nasync function saveDocumentNote() {\n  if (!article.value || documentNote.value === savedNote.value) return\n\n  try {\n    await noteStore.saveNote(article.value.id, documentNote.value)\n    savedNote.value = documentNote.value\n  } catch (e) {\n    console.error('Failed to save note:', e)\n  }\n}\n\n// 格式化时间\nfunction formatTime(dateStr: string): string {\n  const date = new Date(dateStr)\n  const now = new Date()\n  const diff = now.getTime() - date.getTime()\n\n  if (diff < 60000) return 'just now'\n  if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`\n  if (diff < 86400000) return `${Math.floor(diff / 3600000)}h ago`\n  if (diff < 604800000) return `${Math.floor(diff / 86400000)}d ago`\n\n  return date.toLocaleDateString('zh-CN', { month: 'short', day: 'numeric' })\n}\n\n// 提取目录\nfunction extractTableOfContents() {\n  if (!contentRef.value) return\n\n  const headings = contentRef.value.querySelectorAll('h1, h2, h3, h4, h5, h6')\n  tableOfContents.value = Array.from(headings).map((el) => {\n    const level = parseInt(el.tagName.charAt(1))\n    return {\n      text: el.textContent?.trim() || '',\n      level,\n      element: el as HTMLElement\n    }\n  })\n}\n\n// 滚动到指定标题\nfunction scrollToHeading(index: number) {\n  const heading = tableOfContents.value[index]\n  if (heading?.element) {\n    heading.element.scrollIntoView({ behavior: 'smooth', block: 'start' })\n    activeHeading.value = index\n  }\n}\n\n// 处理滚动\nfunction handleScroll() {\n  if (!mainRef.value) return\n\n  const { scrollTop, scrollHeight, clientHeight } = mainRef.value\n  const maxScroll = scrollHeight - clientHeight\n\n  // 更新阅读进度\n  if (maxScroll > 0) {\n    readProgress.value = Math.round((scrollTop / maxScroll) * 100)\n  }\n\n  // 更新当前高亮的目录项\n  if (contentRef.value) {\n    const headings = tableOfContents.value\n    for (let i = headings.length - 1; i >= 0; i--) {\n      const el = headings[i].element\n      if (el && el.getBoundingClientRect().top <= 100) {\n        activeHeading.value = i\n        break\n      }\n    }\n  }\n}\n\n// 监听路由变化\nwatch(() => route.params.id, () => {\n  loadArticle()\n}, { immediate: true })\n\n// 格式化日期\nfunction formatDate(dateStr: string): string {\n  return new Date(dateStr).toLocaleDateString('zh-CN', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  })\n}\n\n// 返回\nfunction goBack() {\n  router.back()\n}\n\n// 切换已读状态\nasync function toggleReadStatus() {\n  if (!article.value) return\n  if (article.value.isRead === 1) {\n    await articleStore.markAsUnread(article.value.id)\n    article.value.isRead = 0\n  } else {\n    await articleStore.markAsRead(article.value.id)\n    article.value.isRead = 1\n  }\n}\n\n// 切换收藏状态\nasync function toggleFavorite() {\n  if (!article.value) return\n  await articleStore.toggleFavorite(article.value.id)\n  article.value.isFavorite = article.value.isFavorite === 1 ? 0 : 1\n}\n\n// 打开原文\nfunction openOriginal() {\n  if (article.value?.link) {\n    window.open(article.value.link, '_blank')\n  }\n}\n\n// 键盘快捷键\nfunction handleKeydown(e: KeyboardEvent) {\n  if (e.key === 'Escape') {\n    goBack()\n  } else if (e.key === '[') {\n    showLeft.value = !showLeft.value\n  } else if (e.key === ']') {\n    showRight.value = !showRight.value\n  }\n}\n\n// 点击空白处隐藏工具栏\nfunction handleDocumentClick(e: MouseEvent) {\n  if (!showHighlightToolbar.value) return\n  const toolbar = document.querySelector('.highlight-toolbar')\n  if (toolbar && !toolbar.contains(e.target as Node)) {\n    hideHighlightToolbar()\n  }\n}\n\nonMounted(() => {\n  window.addEventListener('keydown', handleKeydown)\n  document.addEventListener('click', handleDocumentClick)\n})\n\nonUnmounted(() => {\n  window.removeEventListener('keydown', handleKeydown)\n  document.removeEventListener('click', handleDocumentClick)\n  // 清理store状态\n  highlightStore.clearHighlights()\n  noteStore.clearNote()\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.reader-page {\n  display: flex;\n  height: 100vh;\n  background-color: var(--bg-content);\n  position: relative;\n}\n\n// 左侧目录栏\n.reader-left {\n  width: 260px;\n  border-right: 1px solid var(--border-color);\n  background-color: var(--bg-sidebar);\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  transition: width 0.3s ease;\n}\n\n.panel-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px 20px;\n  border-bottom: 1px solid var(--border-color);\n\n  h3 {\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--text-primary);\n    margin: 0;\n  }\n}\n\n.panel-tabs {\n  display: flex;\n  gap: 16px;\n\n  .tab {\n    font-size: 14px;\n    color: var(--text-muted);\n    cursor: pointer;\n    padding: 4px 0;\n    border-bottom: 2px solid transparent;\n    transition: all 0.2s;\n\n    &:hover {\n      color: var(--text-secondary);\n    }\n\n    &.active {\n      color: var(--text-primary);\n      font-weight: 600;\n      border-bottom-color: $primary-color;\n    }\n  }\n}\n\n.toc-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: 12px;\n}\n\n.toc-item {\n  padding: 8px 12px;\n  font-size: 13px;\n  color: var(--text-secondary);\n  cursor: pointer;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n  margin-bottom: 2px;\n\n  &:hover {\n    background-color: var(--hover-color);\n    color: var(--text-primary);\n  }\n\n  &.active {\n    background-color: var(--hover-color);\n    color: $primary-color;\n    font-weight: 500;\n  }\n\n  &.level-1 { padding-left: 12px; font-weight: 500; }\n  &.level-2 { padding-left: 24px; }\n  &.level-3 { padding-left: 36px; font-size: 12px; }\n  &.level-4 { padding-left: 48px; font-size: 12px; }\n}\n\n.toc-empty {\n  padding: 32px 16px;\n  text-align: center;\n  color: var(--text-muted);\n  font-size: 13px;\n}\n\n// 中间内容区\n.reader-main {\n  flex: 1;\n  overflow-y: auto;\n  display: flex;\n  justify-content: center;\n}\n\n.main-container {\n  width: 100%;\n  max-width: 720px;\n  padding: 24px 40px 80px;\n}\n\n.main-toolbar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 24px;\n\n  .toolbar-right {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n  }\n}\n\n.source-tag {\n  margin-bottom: 16px;\n}\n\n.article-title {\n  font-size: 32px;\n  font-weight: 700;\n  color: var(--text-primary);\n  line-height: 1.3;\n  margin-bottom: 16px;\n}\n\n.article-meta {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  color: var(--text-muted);\n  margin-bottom: 32px;\n  padding-bottom: 24px;\n  border-bottom: 1px solid var(--border-color);\n\n  .separator {\n    color: var(--border-color);\n  }\n}\n\n.article-content {\n  color: var(--text-primary);\n\n  :deep(img) {\n    max-width: 100%;\n    height: auto;\n    border-radius: 8px;\n    margin: 16px 0;\n  }\n\n  :deep(a) {\n    color: $primary-color;\n  }\n\n  :deep(blockquote) {\n    border-left: 4px solid $primary-color;\n    padding-left: 16px;\n    margin: 16px 0;\n    color: var(--text-secondary);\n  }\n\n  :deep(pre) {\n    background-color: var(--bg-sidebar);\n    padding: 16px;\n    border-radius: 8px;\n    overflow-x: auto;\n  }\n\n  :deep(h1, h2, h3, h4, h5, h6) {\n    margin-top: 32px;\n    margin-bottom: 16px;\n    scroll-margin-top: 80px;\n  }\n\n  :deep(p) {\n    margin: 16px 0;\n  }\n\n  // 划线标记样式\n  :deep(.highlight-mark) {\n    padding: 2px 0;\n    border-radius: 2px;\n    cursor: pointer;\n    transition: background-color 0.2s;\n\n    &.highlight-yellow {\n      background-color: #fef08a;\n    }\n\n    &.highlight-green {\n      background-color: #bbf7d0;\n    }\n\n    &.highlight-blue {\n      background-color: #bfdbfe;\n    }\n\n    &.highlight-pink {\n      background-color: #fbcfe8;\n    }\n\n    &.highlight-purple {\n      background-color: #ddd6fe;\n    }\n\n    &:hover {\n      filter: brightness(0.95);\n    }\n  }\n}\n\n.article-footer {\n  display: flex;\n  gap: 12px;\n  padding-top: 32px;\n  margin-top: 32px;\n  border-top: 1px solid var(--border-color);\n}\n\n.loading-state,\n.error-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 80px 0;\n  color: var(--text-muted);\n\n  p {\n    margin: 16px 0;\n  }\n}\n\n// 右侧信息栏\n.reader-right {\n  width: 280px;\n  border-left: 1px solid var(--border-color);\n  background-color: var(--bg-sidebar);\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  transition: width 0.3s ease;\n}\n\n.info-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px 20px;\n}\n\n.info-section {\n  margin-bottom: 24px;\n}\n\n.section-title {\n  font-size: 11px;\n  font-weight: 600;\n  color: var(--text-muted);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin-bottom: 12px;\n}\n\n.metadata-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.metadata-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n\n  .meta-label {\n    width: 80px;\n    flex-shrink: 0;\n    font-size: 13px;\n    color: var(--text-muted);\n  }\n\n  .meta-value {\n    font-size: 13px;\n    color: var(--text-primary);\n    word-break: break-word;\n  }\n}\n\n.progress-info {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  .el-progress {\n    flex: 1;\n  }\n\n  .progress-text {\n    font-size: 12px;\n    color: var(--text-muted);\n    min-width: 36px;\n  }\n}\n\n// Notebook 面板\n.notebook-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px 20px;\n}\n\n.note-input-area {\n  .el-textarea {\n    margin-bottom: 8px;\n  }\n\n  .note-actions {\n    display: flex;\n    justify-content: flex-end;\n  }\n}\n\n.highlight-count {\n  font-weight: normal;\n  color: var(--text-muted);\n  margin-left: 4px;\n}\n\n.highlights-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.highlight-item {\n  padding: 12px;\n  border-radius: 8px;\n  border-left: 3px solid;\n\n  &.highlight-yellow {\n    background-color: rgba(254, 240, 138, 0.3);\n    border-left-color: #fef08a;\n  }\n\n  &.highlight-green {\n    background-color: rgba(187, 247, 208, 0.3);\n    border-left-color: #bbf7d0;\n  }\n\n  &.highlight-blue {\n    background-color: rgba(191, 219, 254, 0.3);\n    border-left-color: #bfdbfe;\n  }\n\n  &.highlight-pink {\n    background-color: rgba(251, 207, 232, 0.3);\n    border-left-color: #fbcfe8;\n  }\n\n  &.highlight-purple {\n    background-color: rgba(221, 214, 254, 0.3);\n    border-left-color: #ddd6fe;\n  }\n\n  .highlight-text {\n    font-size: 13px;\n    color: var(--text-primary);\n    line-height: 1.5;\n    margin-bottom: 8px;\n  }\n\n  .highlight-note {\n    font-size: 12px;\n    color: var(--text-secondary);\n    font-style: italic;\n    margin-bottom: 8px;\n    padding-left: 8px;\n    border-left: 2px solid var(--border-color);\n  }\n\n  .highlight-tags {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 4px;\n    margin-bottom: 8px;\n  }\n\n  .highlight-footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .highlight-time {\n    font-size: 11px;\n    color: var(--text-muted);\n  }\n}\n\n.highlights-empty {\n  padding: 32px 16px;\n  text-align: center;\n\n  p {\n    color: var(--text-muted);\n    font-size: 13px;\n    margin: 0;\n\n    &.hint {\n      font-size: 12px;\n      margin-top: 8px;\n    }\n  }\n}\n\n// 切换按钮\n.toggle-btn {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 24px;\n  height: 48px;\n  border: 1px solid var(--border-color);\n  background-color: var(--bg-sidebar);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-muted);\n  transition: all 0.2s ease;\n  z-index: 10;\n\n  &:hover {\n    color: var(--text-primary);\n    background-color: var(--hover-color);\n  }\n\n  &.toggle-left {\n    left: 0;\n    border-left: none;\n    border-radius: 0 8px 8px 0;\n  }\n\n  &.toggle-right {\n    right: 0;\n    border-right: none;\n    border-radius: 8px 0 0 8px;\n  }\n}\n\n// 阅读进度条\n.reading-progress-bar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  background-color: transparent;\n  z-index: 100;\n}\n\n.progress-fill {\n  height: 100%;\n  background-color: $primary-color;\n  transition: width 0.1s ease;\n}\n\n// 隐藏侧栏时的样式\n.reader-page.hide-left .reader-main {\n  margin-left: 0;\n}\n\n.reader-page.hide-right .reader-main {\n  margin-right: 0;\n}\n\n// 响应式\n@media (max-width: 1200px) {\n  .reader-left {\n    width: 220px;\n  }\n  .reader-right {\n    width: 240px;\n  }\n}\n\n@media (max-width: 900px) {\n  .reader-left,\n  .reader-right {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    z-index: 20;\n  }\n\n  .reader-left {\n    left: 0;\n  }\n\n  .reader-right {\n    right: 0;\n  }\n}\n</style>\n","import script from \"./Reader.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Reader.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Reader.vue?vue&type=style&index=0&id=53a5d857&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-53a5d857\"]])\n\nexport default __exports__","import { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport type { Article, ArticleQueryParams } from '@/types'\nimport * as articleApi from '@/api/article'\nimport { useFeedStore } from './feed'\n\nexport const useArticleStore = defineStore('article', () => {\n  const articles = ref<Article[]>([])\n  const currentArticle = ref<Article | null>(null)\n  const loading = ref(false)\n  const hasMore = ref(true)\n  const total = ref(0)\n\n  const queryParams = ref<ArticleQueryParams>({\n    page: 1,\n    size: 20,\n    feedId: undefined,\n    isRead: undefined,\n    isFavorite: undefined\n  })\n\n  const unreadArticles = computed(() => {\n    return articles.value.filter(a => a.isRead === 0)\n  })\n\n  async function fetchArticles(reset = false) {\n    if (reset) {\n      queryParams.value.page = 1\n      articles.value = []\n      hasMore.value = true\n    }\n\n    if (!hasMore.value) return\n\n    loading.value = true\n    try {\n      const response = await articleApi.getArticles(queryParams.value)\n      if (reset) {\n        articles.value = response.data\n      } else {\n        articles.value.push(...response.data)\n      }\n      total.value = response.total\n      hasMore.value = queryParams.value.page < response.totalPages\n      queryParams.value.page++\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function fetchArticle(id: number) {\n    loading.value = true\n    try {\n      currentArticle.value = await articleApi.getArticle(id)\n      // 自动标记为已读\n      if (currentArticle.value && currentArticle.value.isRead === 0) {\n        await markAsRead(id)\n      }\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function markAsRead(id: number) {\n    await articleApi.markAsRead(id)\n    const article = articles.value.find(a => a.id === id)\n    if (article && article.isRead === 0) {\n      article.isRead = 1\n      const feedStore = useFeedStore()\n      feedStore.decreaseUnreadCount(article.feedId)\n    }\n    if (currentArticle.value?.id === id) {\n      currentArticle.value.isRead = 1\n    }\n  }\n\n  async function markAsUnread(id: number) {\n    await articleApi.markAsUnread(id)\n    const article = articles.value.find(a => a.id === id)\n    if (article && article.isRead === 1) {\n      article.isRead = 0\n      const feedStore = useFeedStore()\n      feedStore.increaseUnreadCount(article.feedId)\n    }\n    if (currentArticle.value?.id === id) {\n      currentArticle.value.isRead = 0\n    }\n  }\n\n  async function markAllAsRead() {\n    const unreadIds = articles.value.filter(a => a.isRead === 0).map(a => a.id)\n    if (unreadIds.length === 0) return\n\n    await articleApi.batchMarkAsRead(unreadIds)\n    const feedStore = useFeedStore()\n    articles.value.forEach(article => {\n      if (article.isRead === 0) {\n        article.isRead = 1\n        feedStore.decreaseUnreadCount(article.feedId)\n      }\n    })\n  }\n\n  async function toggleFavorite(id: number) {\n    await articleApi.toggleFavorite(id)\n    const article = articles.value.find(a => a.id === id)\n    if (article) {\n      article.isFavorite = article.isFavorite === 1 ? 0 : 1\n    }\n    if (currentArticle.value?.id === id) {\n      currentArticle.value.isFavorite = currentArticle.value.isFavorite === 1 ? 0 : 1\n    }\n  }\n\n  function setFilter(filter: Partial<ArticleQueryParams>) {\n    queryParams.value = { ...queryParams.value, ...filter, page: 1 }\n  }\n\n  function clearCurrentArticle() {\n    currentArticle.value = null\n  }\n\n  return {\n    articles,\n    currentArticle,\n    loading,\n    hasMore,\n    total,\n    queryParams,\n    unreadArticles,\n    fetchArticles,\n    fetchArticle,\n    markAsRead,\n    markAsUnread,\n    markAllAsRead,\n    toggleFavorite,\n    setFilter,\n    clearCurrentArticle\n  }\n})\n"],"names":["getArticles","params","request","get","getArticle","id","markAsRead","put","isRead","markAsUnread","batchMarkAsRead","ids","post","toggleFavorite","getFullContent","getHighlightsByArticle","articleId","createHighlight","updateHighlight","deleteHighlight","delete","getAllTags","createTag","name","color","useHighlightStore","defineStore","highlights","ref","tags","loading","currentArticleId","async","fetchHighlights","value","length","highlightApi","highlight","push","index","findIndex","h","filter","fetchTags","tag","find","t","clearHighlights","getNoteByArticle","saveNote","noteContent","deleteNote","useNoteStore","note","saving","fetchNote","noteApi","content","clearNote","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_defineComponent","__name","setup","__props","settingsStore","useSettingsStore","_ctx","_cache","_component_Setting","_resolveComponent","_component_el_icon","_component_el_button","_component_el_slider","_component_el_option","_component_el_select","_component_el_radio_button","_component_el_radio_group","_component_el_popover","_openBlock","_createBlock","placement","width","trigger","reference","_withCtx","_createVNode","text","circle","default","size","_","_createElementVNode","_toDisplayString","_unref","reading","fontSize","modelValue","$event","min","max","step","lineHeight","toFixed","contentWidth","fontFamily","style","_createElementBlock","_Fragment","_renderList","fontOptions","font","key","label","app","theme","_createTextVNode","onClick","resetReadingSettings","__exports__","title","props","visible","type","Boolean","position","selectedText","allTags","emits","emit","__emit","colors","bg","selectedColor","selectedTags","newTagName","showTagPopover","showNotePopover","toolbarStyle","computed","left","x","top","y","selectColor","toggleTag","tagName","indexOf","splice","addTag","trim","includes","saveHighlight","saveWithNote","cancel","watch","val","_component_el_input","_component_el_tag","_Teleport","to","_normalizeStyle","onMousedown","_withModifiers","_normalizeClass","active","backgroundColor","PriceTag","placeholder","onKeyup","_withKeys","append","Plus","_createCommentVNode","EditPen","rows","Check","Close","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","route","useRoute","router","useRouter","articleStore","useArticleStore","highlightStore","noteStore","mainRef","contentRef","showLeft","showRight","activeTab","article","error","fullContent","tableOfContents","activeHeading","readProgress","showHighlightToolbar","toolbarPosition","selectionRange","documentNote","savedNote","displayContent","description","highlightedContent","sortedHighlights","sort","a","b","startOffset","result","plainText","replace","hl","textIndex","escapedText","RegExp","contentStyle","fontFamilyValue","wordCount","readingTime","Math","ceil","domain","link","url","URL","hostname","loadArticle","Number","promises","then","catch","console","warn","Promise","all","nextTick","extractTableOfContents","e","message","handleTextSelection","selection","window","getSelection","isCollapsed","toString","setTimeout","toolbar","document","querySelector","contains","target","hideHighlightToolbar","anchorNode","getRangeAt","cloneRange","rect","getBoundingClientRect","removeAllRanges","handleSaveHighlight","data","range","preSelectionRange","createRange","selectNodeContents","setEnd","startContainer","endOffset","undefined","tagNames","saveDocumentNote","formatTime","dateStr","date","Date","now","diff","getTime","floor","toLocaleDateString","month","day","headings","querySelectorAll","Array","from","map","el","level","parseInt","charAt","textContent","element","scrollToHeading","heading","scrollIntoView","behavior","block","handleScroll","scrollTop","scrollHeight","clientHeight","maxScroll","round","i","formatDate","year","goBack","back","toggleReadStatus","isFavorite","openOriginal","open","handleKeydown","handleDocumentClick","immediate","onMounted","addEventListener","onUnmounted","removeEventListener","_component_Close","_component_DArrowRight","_component_ArrowLeft","_component_Loading","_component_Warning","_component_View","_component_Hide","_component_StarFilled","_component_Star","_component_Link","_component_DArrowLeft","_component_el_progress","_withDirectives","_vShow","ref_key","onScroll","onMouseup","ReadingSettings","feedName","author","pubDate","innerHTML","percentage","onBlur","createTime","HighlightToolbar","onSave","onCancel","articles","currentArticle","hasMore","total","queryParams","page","feedId","unreadArticles","fetchArticles","reset","response","articleApi","totalPages","fetchArticle","feedStore","useFeedStore","decreaseUnreadCount","increaseUnreadCount","markAllAsRead","unreadIds","forEach","setFilter","clearCurrentArticle"],"ignoreList":[],"sourceRoot":""}