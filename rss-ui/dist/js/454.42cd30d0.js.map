{"version":3,"file":"js/454.42cd30d0.js","mappings":"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","sources":["webpack://rss-reader/./src/api/article.ts","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/components/ArticleList/ArticleCard.vue?91d9","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/components/ArticleList/ArticleCard.vue","webpack://rss-reader/./src/components/ArticleList/ArticleCard.vue","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/components/ArticleList/ArticleList.vue?863e","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/components/ArticleList/ArticleList.vue","webpack://rss-reader/./src/components/ArticleList/ArticleList.vue","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/views/Home.vue?1aa9","webpack://rss-reader/../../../%E7%BC%96%E7%A8%8B/ai/rss-reader/src/views/Home.vue","webpack://rss-reader/./src/views/Home.vue","webpack://rss-reader/./src/stores/article.ts"],"sourcesContent":["import request from './index'\nimport type { Article, ArticleQueryParams, PageResult } from '@/types'\n\n// 获取文章列表\nexport function getArticles(params: ArticleQueryParams): Promise<PageResult<Article>> {\n  return request.get('/articles', { params })\n}\n\n// 获取文章详情\nexport function getArticle(id: number): Promise<Article> {\n  return request.get(`/articles/${id}`)\n}\n\n// 标记文章为已读\nexport function markAsRead(id: number): Promise<void> {\n  return request.put(`/articles/${id}/read`, null, { params: { isRead: 1 } })\n}\n\n// 标记文章为未读\nexport function markAsUnread(id: number): Promise<void> {\n  return request.put(`/articles/${id}/read`, null, { params: { isRead: 0 } })\n}\n\n// 批量标记为已读\nexport function batchMarkAsRead(ids: number[]): Promise<void> {\n  return request.post('/articles/batch-read', ids, { params: { isRead: 1 } })\n}\n\n// 切换收藏状态\nexport function toggleFavorite(id: number): Promise<void> {\n  return request.put(`/articles/${id}/favorite`)\n}\n\n// 获取未读数量\nexport function getUnreadCount(feedId?: number): Promise<number> {\n  return request.get('/articles/unread-count', { params: { feedId } })\n}\n\n// 获取文章原文内容\nexport function getFullContent(id: number): Promise<string> {\n  return request.get(`/articles/${id}/fullcontent`)\n}\n\n// 清除原文缓存\nexport function clearFullContentCache(id: number): Promise<void> {\n  return request.delete(`/articles/${id}/fullcontent/cache`)\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"card-main\" }\nconst _hoisted_2 = { class: \"card-header\" }\nconst _hoisted_3 = { class: \"feed-name\" }\nconst _hoisted_4 = { class: \"publish-time\" }\nconst _hoisted_5 = { class: \"card-title\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"card-summary\"\n}\nconst _hoisted_7 = { class: \"card-footer\" }\nconst _hoisted_8 = { class: \"word-count\" }\nconst _hoisted_9 = { class: \"read-time\" }\nconst _hoisted_10 = {\n  key: 0,\n  class: \"card-thumbnail\"\n}\nconst _hoisted_11 = [\"src\", \"alt\"]\n\nimport { computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport type { Article } from '@/types'\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ArticleCard',\n  props: {\n    article: {},\n    active: { type: Boolean }\n  },\n  emits: [\"click\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst router = useRouter()\n\nconst isImageType = computed(() => {\n  const type = props.article.enclosureType || ''\n  return type.startsWith('image/')\n})\n\nfunction handleClick() {\n  // 跳转到阅读页面\n  router.push(`/reader/${props.article.id}`)\n  emit('click')\n}\n\nfunction formatTime(dateStr: string): string {\n  const date = new Date(dateStr)\n  const now = new Date()\n  const diff = now.getTime() - date.getTime()\n\n  const minutes = Math.floor(diff / 60000)\n  const hours = Math.floor(diff / 3600000)\n  const days = Math.floor(diff / 86400000)\n\n  if (minutes < 1) return '刚刚'\n  if (minutes < 60) return `${minutes}分钟前`\n  if (hours < 24) return `${hours}小时前`\n  if (days < 7) return `${days}天前`\n\n  return date.toLocaleDateString('zh-CN', {\n    month: 'short',\n    day: 'numeric'\n  })\n}\n\nfunction truncateSummary(text: string): string {\n  const maxLength = 120\n  const cleaned = text.replace(/<[^>]*>/g, '').trim()\n  if (cleaned.length <= maxLength) return cleaned\n  return cleaned.slice(0, maxLength) + '...'\n}\n\nfunction getWordCount(text: string): number {\n  if (!text) return 0\n  const cleaned = text.replace(/<[^>]*>/g, '').trim()\n  return cleaned.length\n}\n\nfunction getReadTime(text: string): number {\n  const count = getWordCount(text)\n  return Math.max(1, Math.ceil(count / 300))\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"article-card\", { unread: __props.article.isRead === 0, active: __props.active }]),\n    onClick: handleClick\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"span\", _hoisted_3, _toDisplayString(__props.article.feedName), 1),\n        _createElementVNode(\"span\", _hoisted_4, _toDisplayString(formatTime(__props.article.pubDate)), 1)\n      ]),\n      _createElementVNode(\"h3\", _hoisted_5, _toDisplayString(__props.article.title), 1),\n      (__props.article.description)\n        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, _toDisplayString(truncateSummary(__props.article.description)), 1))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createElementVNode(\"span\", _hoisted_8, _toDisplayString(getWordCount(__props.article.description)) + \" 字\", 1),\n        _createElementVNode(\"span\", _hoisted_9, _toDisplayString(getReadTime(__props.article.description)) + \" min\", 1)\n      ])\n    ]),\n    (__props.article.enclosureUrl && isImageType.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n          _createElementVNode(\"img\", {\n            src: __props.article.enclosureUrl,\n            alt: __props.article.title\n          }, null, 8, _hoisted_11)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 2))\n}\n}\n\n})","<template>\n  <div\n    class=\"article-card\"\n    :class=\"{ unread: article.isRead === 0, active }\"\n    @click=\"handleClick\"\n  >\n    <div class=\"card-main\">\n      <div class=\"card-header\">\n        <span class=\"feed-name\">{{ article.feedName }}</span>\n        <span class=\"publish-time\">{{ formatTime(article.pubDate) }}</span>\n      </div>\n      <h3 class=\"card-title\">{{ article.title }}</h3>\n      <p class=\"card-summary\" v-if=\"article.description\">\n        {{ truncateSummary(article.description) }}\n      </p>\n      <div class=\"card-footer\">\n        <span class=\"word-count\">{{ getWordCount(article.description) }} 字</span>\n        <span class=\"read-time\">{{ getReadTime(article.description) }} min</span>\n      </div>\n    </div>\n    <div class=\"card-thumbnail\" v-if=\"article.enclosureUrl && isImageType\">\n      <img :src=\"article.enclosureUrl\" :alt=\"article.title\" />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport type { Article } from '@/types'\n\nconst props = defineProps<{\n  article: Article\n  active?: boolean\n}>()\n\nconst emit = defineEmits<{\n  (e: 'click'): void\n}>()\n\nconst router = useRouter()\n\nconst isImageType = computed(() => {\n  const type = props.article.enclosureType || ''\n  return type.startsWith('image/')\n})\n\nfunction handleClick() {\n  // 跳转到阅读页面\n  router.push(`/reader/${props.article.id}`)\n  emit('click')\n}\n\nfunction formatTime(dateStr: string): string {\n  const date = new Date(dateStr)\n  const now = new Date()\n  const diff = now.getTime() - date.getTime()\n\n  const minutes = Math.floor(diff / 60000)\n  const hours = Math.floor(diff / 3600000)\n  const days = Math.floor(diff / 86400000)\n\n  if (minutes < 1) return '刚刚'\n  if (minutes < 60) return `${minutes}分钟前`\n  if (hours < 24) return `${hours}小时前`\n  if (days < 7) return `${days}天前`\n\n  return date.toLocaleDateString('zh-CN', {\n    month: 'short',\n    day: 'numeric'\n  })\n}\n\nfunction truncateSummary(text: string): string {\n  const maxLength = 120\n  const cleaned = text.replace(/<[^>]*>/g, '').trim()\n  if (cleaned.length <= maxLength) return cleaned\n  return cleaned.slice(0, maxLength) + '...'\n}\n\nfunction getWordCount(text: string): number {\n  if (!text) return 0\n  const cleaned = text.replace(/<[^>]*>/g, '').trim()\n  return cleaned.length\n}\n\nfunction getReadTime(text: string): number {\n  const count = getWordCount(text)\n  return Math.max(1, Math.ceil(count / 300))\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.article-card {\n  display: flex;\n  gap: 16px;\n  padding: 16px;\n  border-radius: $border-radius-base;\n  cursor: pointer;\n  transition: $transition-base;\n  border: 1px solid transparent;\n\n  &:hover {\n    background-color: var(--hover-color);\n  }\n\n  &.active {\n    background-color: var(--hover-color);\n    border-color: $primary-color;\n  }\n\n  &.unread {\n    .card-title {\n      font-weight: 600;\n    }\n\n    &::before {\n      content: '';\n      position: absolute;\n      left: 4px;\n      top: 50%;\n      transform: translateY(-50%);\n      width: 6px;\n      height: 6px;\n      background-color: $primary-color;\n      border-radius: 50%;\n    }\n  }\n\n  position: relative;\n  margin-bottom: 8px;\n}\n\n.card-main {\n  flex: 1;\n  min-width: 0;\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 12px;\n  margin-bottom: 8px;\n}\n\n.feed-name {\n  font-size: 12px;\n  color: $primary-color;\n  font-weight: 500;\n}\n\n.publish-time {\n  font-size: 12px;\n  color: var(--text-muted);\n}\n\n.card-title {\n  font-size: 15px;\n  font-weight: 500;\n  color: var(--text-primary);\n  line-height: 1.4;\n  margin-bottom: 8px;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.card-summary {\n  font-size: 13px;\n  color: var(--text-secondary);\n  line-height: 1.5;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  margin-bottom: 8px;\n}\n\n.card-footer {\n  display: flex;\n  gap: 12px;\n  font-size: 12px;\n  color: var(--text-muted);\n}\n\n.card-thumbnail {\n  flex-shrink: 0;\n  width: 100px;\n  height: 70px;\n  border-radius: $border-radius-base;\n  overflow: hidden;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n}\n</style>\n","import script from \"./ArticleCard.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ArticleCard.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ArticleCard.vue?vue&type=style&index=0&id=7d3daed4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7d3daed4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = { class: \"article-list\" }\nconst _hoisted_2 = { class: \"list-header\" }\nconst _hoisted_3 = { class: \"list-title\" }\nconst _hoisted_4 = { class: \"list-actions\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"empty-state\"\n}\nconst _hoisted_6 = { class: \"articles-grid\" }\nconst _hoisted_7 = {\n  key: 1,\n  class: \"loading-more\"\n}\nconst _hoisted_8 = {\n  key: 2,\n  class: \"no-more\"\n}\n\nimport { ref, computed, watch, onMounted, onUnmounted } from 'vue'\nimport { useArticleStore } from '@/stores/article'\nimport type { Article } from '@/types'\nimport ArticleCard from './ArticleCard.vue'\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ArticleList',\n  props: {\n    title: {},\n    feedId: {}\n  },\n  emits: [\"select\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props\n\nconst emit = __emit\n\nconst articleStore = useArticleStore()\n\nconst listRef = ref<HTMLElement | null>(null)\nconst filterStatus = ref('all')\n\nconst filteredArticles = computed(() => {\n  if (filterStatus.value === 'unread') {\n    return articleStore.unreadArticles\n  }\n  return articleStore.articles\n})\n\nwatch(\n  () => props.feedId,\n  () => {\n    articleStore.setFilter({\n      feedId: props.feedId\n    })\n    articleStore.fetchArticles(true)\n  },\n  { immediate: true }\n)\n\nwatch(filterStatus, () => {\n  articleStore.setFilter({\n    isRead: filterStatus.value === 'unread' ? 0 : undefined\n  })\n  articleStore.fetchArticles(true)\n})\n\nfunction handleSelect(article: Article) {\n  emit('select', article)\n}\n\nasync function handleMarkAllRead() {\n  await articleStore.markAllAsRead()\n}\n\nfunction handleScroll() {\n  if (!listRef.value) return\n\n  const { scrollTop, scrollHeight, clientHeight } = listRef.value\n  if (scrollHeight - scrollTop - clientHeight < 100) {\n    if (!articleStore.loading && articleStore.hasMore) {\n      articleStore.fetchArticles()\n    }\n  }\n}\n\nonMounted(() => {\n  listRef.value?.addEventListener('scroll', handleScroll)\n})\n\nonUnmounted(() => {\n  listRef.value?.removeEventListener('scroll', handleScroll)\n})\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_radio_button = _resolveComponent(\"el-radio-button\")!\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\")!\n  const _component_Check = _resolveComponent(\"Check\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_Document = _resolveComponent(\"Document\")!\n  const _component_Loading = _resolveComponent(\"Loading\")!\n  const _directive_loading = _resolveDirective(\"loading\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"h2\", _hoisted_3, _toDisplayString(__props.title), 1),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_component_el_radio_group, {\n          modelValue: filterStatus.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((filterStatus).value = $event)),\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_radio_button, { label: \"all\" }, {\n              default: _withCtx(() => [...(_cache[1] || (_cache[1] = [\n                _createTextVNode(\"全部\", -1)\n              ]))]),\n              _: 1\n            }),\n            _createVNode(_component_el_radio_button, { label: \"unread\" }, {\n              default: _withCtx(() => [...(_cache[2] || (_cache[2] = [\n                _createTextVNode(\"未读\", -1)\n              ]))]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_el_button, {\n          text: \"\",\n          onClick: handleMarkAllRead,\n          disabled: _unref(articleStore).unreadArticles.length === 0\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_Check)\n              ]),\n              _: 1\n            }),\n            _cache[3] || (_cache[3] = _createTextVNode(\" 全部已读 \", -1))\n          ]),\n          _: 1\n        }, 8, [\"disabled\"])\n      ])\n    ]),\n    _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n      class: \"list-content\",\n      ref_key: \"listRef\",\n      ref: listRef\n    }, [\n      (filteredArticles.value.length === 0 && !_unref(articleStore).loading)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createVNode(_component_el_icon, { size: 48 }, {\n              default: _withCtx(() => [\n                _createVNode(_component_Document)\n              ]),\n              _: 1\n            }),\n            _cache[4] || (_cache[4] = _createElementVNode(\"p\", null, \"暂无文章\", -1))\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_6, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(filteredArticles.value, (article) => {\n          return (_openBlock(), _createBlock(ArticleCard, {\n            key: article.id,\n            article: article,\n            onClick: ($event: any) => (handleSelect(article))\n          }, null, 8, [\"article\", \"onClick\"]))\n        }), 128))\n      ]),\n      (_unref(articleStore).loading && _unref(articleStore).articles.length > 0)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n            _createVNode(_component_el_icon, { class: \"is-loading\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_Loading)\n              ]),\n              _: 1\n            }),\n            _cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"加载中...\", -1))\n          ]))\n        : _createCommentVNode(\"\", true),\n      (!_unref(articleStore).hasMore && _unref(articleStore).articles.length > 0)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, \" 没有更多了 \"))\n        : _createCommentVNode(\"\", true)\n    ])), [\n      [_directive_loading, _unref(articleStore).loading && _unref(articleStore).articles.length === 0]\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"article-list\">\n    <div class=\"list-header\">\n      <h2 class=\"list-title\">{{ title }}</h2>\n      <div class=\"list-actions\">\n        <el-radio-group v-model=\"filterStatus\" size=\"small\">\n          <el-radio-button label=\"all\">全部</el-radio-button>\n          <el-radio-button label=\"unread\">未读</el-radio-button>\n        </el-radio-group>\n        <el-button\n          text\n          @click=\"handleMarkAllRead\"\n          :disabled=\"articleStore.unreadArticles.length === 0\"\n        >\n          <el-icon><Check /></el-icon>\n          全部已读\n        </el-button>\n      </div>\n    </div>\n\n    <div\n      class=\"list-content\"\n      ref=\"listRef\"\n      v-loading=\"articleStore.loading && articleStore.articles.length === 0\"\n    >\n      <div v-if=\"filteredArticles.length === 0 && !articleStore.loading\" class=\"empty-state\">\n        <el-icon :size=\"48\"><Document /></el-icon>\n        <p>暂无文章</p>\n      </div>\n\n      <div class=\"articles-grid\">\n        <ArticleCard\n          v-for=\"article in filteredArticles\"\n          :key=\"article.id\"\n          :article=\"article\"\n          @click=\"handleSelect(article)\"\n        />\n      </div>\n\n      <div v-if=\"articleStore.loading && articleStore.articles.length > 0\" class=\"loading-more\">\n        <el-icon class=\"is-loading\"><Loading /></el-icon>\n        <span>加载中...</span>\n      </div>\n\n      <div v-if=\"!articleStore.hasMore && articleStore.articles.length > 0\" class=\"no-more\">\n        没有更多了\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onUnmounted } from 'vue'\nimport { useArticleStore } from '@/stores/article'\nimport type { Article } from '@/types'\nimport ArticleCard from './ArticleCard.vue'\n\nconst props = defineProps<{\n  title: string\n  feedId?: number\n}>()\n\nconst emit = defineEmits<{\n  (e: 'select', article: Article): void\n}>()\n\nconst articleStore = useArticleStore()\n\nconst listRef = ref<HTMLElement | null>(null)\nconst filterStatus = ref('all')\n\nconst filteredArticles = computed(() => {\n  if (filterStatus.value === 'unread') {\n    return articleStore.unreadArticles\n  }\n  return articleStore.articles\n})\n\nwatch(\n  () => props.feedId,\n  () => {\n    articleStore.setFilter({\n      feedId: props.feedId\n    })\n    articleStore.fetchArticles(true)\n  },\n  { immediate: true }\n)\n\nwatch(filterStatus, () => {\n  articleStore.setFilter({\n    isRead: filterStatus.value === 'unread' ? 0 : undefined\n  })\n  articleStore.fetchArticles(true)\n})\n\nfunction handleSelect(article: Article) {\n  emit('select', article)\n}\n\nasync function handleMarkAllRead() {\n  await articleStore.markAllAsRead()\n}\n\nfunction handleScroll() {\n  if (!listRef.value) return\n\n  const { scrollTop, scrollHeight, clientHeight } = listRef.value\n  if (scrollHeight - scrollTop - clientHeight < 100) {\n    if (!articleStore.loading && articleStore.hasMore) {\n      articleStore.fetchArticles()\n    }\n  }\n}\n\nonMounted(() => {\n  listRef.value?.addEventListener('scroll', handleScroll)\n})\n\nonUnmounted(() => {\n  listRef.value?.removeEventListener('scroll', handleScroll)\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.article-list {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background-color: var(--bg-content);\n}\n\n.list-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px 24px;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.list-title {\n  font-size: 20px;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.list-actions {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.list-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px 24px;\n}\n\n.articles-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));\n  gap: 12px;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 300px;\n  color: var(--text-muted);\n\n  p {\n    margin-top: 16px;\n  }\n}\n\n.loading-more,\n.no-more {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 24px;\n  color: var(--text-muted);\n  font-size: 14px;\n}\n</style>\n","import script from \"./ArticleList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ArticleList.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ArticleList.vue?vue&type=style&index=0&id=4d776ab8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4d776ab8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"home-view\" }\n\nimport ArticleList from '@/components/ArticleList/ArticleList.vue'\nimport type { Article } from '@/types'\nimport { useArticleStore } from '@/stores/article'\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Home',\n  setup(__props) {\n\nconst articleStore = useArticleStore()\n\nasync function handleSelectArticle(article: Article) {\n  if (article.isRead === 0) {\n    await articleStore.markAsRead(article.id)\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(ArticleList, {\n      title: \"全部文章\",\n      onSelect: handleSelectArticle\n    })\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"home-view\">\n    <ArticleList\n      title=\"全部文章\"\n      @select=\"handleSelectArticle\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport ArticleList from '@/components/ArticleList/ArticleList.vue'\nimport type { Article } from '@/types'\nimport { useArticleStore } from '@/stores/article'\n\nconst articleStore = useArticleStore()\n\nasync function handleSelectArticle(article: Article) {\n  if (article.isRead === 0) {\n    await articleStore.markAsRead(article.id)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.home-view {\n  height: 100%;\n  overflow: hidden;\n}\n</style>\n","import script from \"./Home.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=0ba82629&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0ba82629\"]])\n\nexport default __exports__","import { defineStore } from 'pinia'\nimport { ref, computed } from 'vue'\nimport type { Article, ArticleQueryParams } from '@/types'\nimport * as articleApi from '@/api/article'\nimport { useFeedStore } from './feed'\n\nexport const useArticleStore = defineStore('article', () => {\n  const articles = ref<Article[]>([])\n  const currentArticle = ref<Article | null>(null)\n  const loading = ref(false)\n  const hasMore = ref(true)\n  const total = ref(0)\n\n  const queryParams = ref<ArticleQueryParams>({\n    page: 1,\n    size: 20,\n    feedId: undefined,\n    isRead: undefined,\n    isFavorite: undefined\n  })\n\n  const unreadArticles = computed(() => {\n    return articles.value.filter(a => a.isRead === 0)\n  })\n\n  async function fetchArticles(reset = false) {\n    if (reset) {\n      queryParams.value.page = 1\n      articles.value = []\n      hasMore.value = true\n    }\n\n    if (!hasMore.value) return\n\n    loading.value = true\n    try {\n      const response = await articleApi.getArticles(queryParams.value)\n      if (reset) {\n        articles.value = response.data\n      } else {\n        articles.value.push(...response.data)\n      }\n      total.value = response.total\n      hasMore.value = queryParams.value.page < response.totalPages\n      queryParams.value.page++\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function fetchArticle(id: number) {\n    loading.value = true\n    try {\n      currentArticle.value = await articleApi.getArticle(id)\n      // 自动标记为已读\n      if (currentArticle.value && currentArticle.value.isRead === 0) {\n        await markAsRead(id)\n      }\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function markAsRead(id: number) {\n    await articleApi.markAsRead(id)\n    const article = articles.value.find(a => a.id === id)\n    if (article && article.isRead === 0) {\n      article.isRead = 1\n      const feedStore = useFeedStore()\n      feedStore.decreaseUnreadCount(article.feedId)\n    }\n    if (currentArticle.value?.id === id) {\n      currentArticle.value.isRead = 1\n    }\n  }\n\n  async function markAsUnread(id: number) {\n    await articleApi.markAsUnread(id)\n    const article = articles.value.find(a => a.id === id)\n    if (article && article.isRead === 1) {\n      article.isRead = 0\n      const feedStore = useFeedStore()\n      feedStore.increaseUnreadCount(article.feedId)\n    }\n    if (currentArticle.value?.id === id) {\n      currentArticle.value.isRead = 0\n    }\n  }\n\n  async function markAllAsRead() {\n    const unreadIds = articles.value.filter(a => a.isRead === 0).map(a => a.id)\n    if (unreadIds.length === 0) return\n\n    await articleApi.batchMarkAsRead(unreadIds)\n    const feedStore = useFeedStore()\n    articles.value.forEach(article => {\n      if (article.isRead === 0) {\n        article.isRead = 1\n        feedStore.decreaseUnreadCount(article.feedId)\n      }\n    })\n  }\n\n  async function toggleFavorite(id: number) {\n    await articleApi.toggleFavorite(id)\n    const article = articles.value.find(a => a.id === id)\n    if (article) {\n      article.isFavorite = article.isFavorite === 1 ? 0 : 1\n    }\n    if (currentArticle.value?.id === id) {\n      currentArticle.value.isFavorite = currentArticle.value.isFavorite === 1 ? 0 : 1\n    }\n  }\n\n  function setFilter(filter: Partial<ArticleQueryParams>) {\n    queryParams.value = { ...queryParams.value, ...filter, page: 1 }\n  }\n\n  function clearCurrentArticle() {\n    currentArticle.value = null\n  }\n\n  return {\n    articles,\n    currentArticle,\n    loading,\n    hasMore,\n    total,\n    queryParams,\n    unreadArticles,\n    fetchArticles,\n    fetchArticle,\n    markAsRead,\n    markAsUnread,\n    markAllAsRead,\n    toggleFavorite,\n    setFilter,\n    clearCurrentArticle\n  }\n})\n"],"names":["getArticles","params","request","get","getArticle","id","markAsRead","put","isRead","markAsUnread","batchMarkAsRead","ids","post","toggleFavorite","getFullContent","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","key","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_defineComponent","__name","props","article","active","type","Boolean","emits","setup","__props","emit","__emit","router","useRouter","isImageType","computed","enclosureType","startsWith","handleClick","push","formatTime","dateStr","date","Date","now","diff","getTime","minutes","Math","floor","hours","days","toLocaleDateString","month","day","truncateSummary","text","maxLength","cleaned","replace","trim","length","slice","getWordCount","getReadTime","count","max","ceil","_ctx","_cache","_openBlock","_createElementBlock","_normalizeClass","unread","onClick","_createElementVNode","_toDisplayString","feedName","pubDate","title","description","_createCommentVNode","enclosureUrl","value","src","alt","__exports__","feedId","articleStore","useArticleStore","listRef","ref","filterStatus","filteredArticles","unreadArticles","articles","handleSelect","async","handleMarkAllRead","markAllAsRead","handleScroll","scrollTop","scrollHeight","clientHeight","loading","hasMore","fetchArticles","watch","setFilter","immediate","undefined","onMounted","addEventListener","onUnmounted","removeEventListener","_component_el_radio_button","_resolveComponent","_component_el_radio_group","_component_Check","_component_el_icon","_component_el_button","_component_Document","_component_Loading","_directive_loading","_resolveDirective","_createVNode","modelValue","$event","size","default","_withCtx","label","_createTextVNode","_","disabled","_unref","_withDirectives","ref_key","_Fragment","_renderList","_createBlock","ArticleCard","handleSelectArticle","ArticleList","onSelect","defineStore","currentArticle","total","queryParams","page","isFavorite","filter","a","reset","response","articleApi","data","totalPages","fetchArticle","find","feedStore","useFeedStore","decreaseUnreadCount","increaseUnreadCount","unreadIds","map","forEach","clearCurrentArticle"],"ignoreList":[],"sourceRoot":""}